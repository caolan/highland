<!DOCTYPE html>

<!--

  DO NOT edit index.html directly, edit docs/templates/base.html for markup
  and comments in highland.js for API documentation

-->

<!--[if IE 9]><html class="lt-ie10" lang="en" > <![endif]-->
<html class="no-js" lang="en">
  <head>

    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Highland.js</title>
    <link rel="stylesheet" href="css/normalize.css">
    <link rel="stylesheet" href="css/foundation.css">
    <link rel="stylesheet" href="fonts/foundation-icons/foundation-icons.css">
    <link rel="stylesheet" href="css/highland.css">
    <link rel="stylesheet" href="css/highlight.github.css">
    <script src="js/vendor/modernizr.js"></script>
    <script src="https://cdn.rawgit.com/caolan/highland/2.5.0/dist/highland.js" type="text/javascript"></script>

  </head>
  <body>

    <div class="highland-heading">
      <h1>HIGHLAND</h1>
      <p>The high-level streams library for Node.js and the browser.</p>
      <pre class="npm-install">$ npm install highland</pre>
      <p class="show-for-small-only">
        <a class="button small" href="https://cdn.rawgit.com/caolan/highland/2.5.0/dist/highland.js">Download</a>
        <a class="button small" href="https://github.com/caolan/highland"><i style="margin-right: 3px" class="fi-social-github"></i> Source code</a>
      </p>
      <p class="show-for-medium-up">
        <a class="button" href="https://cdn.rawgit.com/caolan/highland/2.5.0/dist/highland.js">Download</a>
        <a class="button" href="https://github.com/caolan/highland"><i style="margin-right: 3px" class="fi-social-github"></i> Source code</a>
      </p>
    </div>

    <nav>
      <ul>
        <li class="show-for-medium-up heading"><a href="#">Highland.js</a></li>
        <li class="show-for-medium-up"><a href="#">Download</a></li>
        <li class="show-for-medium-up"><a href="#introduction">Introduction</a></li>
        <li class="heading"><a href="#examples">Examples</a></li>
        <li><a href="#arrays">Arrays</a></li>
        <li><a href="#async">Async</a></li>
        <li><a href="#laziness">Laziness</a></li>
        <li><a href="#backpressure">Back-pressure</a></li>
        <li><a href="#currying">Currying</a></li>
        <li><a href="#events">Events</a></li>
        
        <li class="heading"><a href="#Stream Objects">Stream Objects</a></li>
        
        <li><a href="#_(source)">_(source)</a></li>
        
        <li><a href="#destroy">destroy</a></li>
        
        <li><a href="#end">end</a></li>
        
        <li><a href="#pause">pause</a></li>
        
        <li><a href="#resume">resume</a></li>
        
        <li><a href="#write">write</a></li>
        
        
        <li class="heading"><a href="#Transforms">Transforms</a></li>
        
        <li><a href="#append">append</a></li>
        
        <li><a href="#batch">batch</a></li>
        
        <li><a href="#batchWithTimeOrCount">batchWithTimeOrCount</a></li>
        
        <li><a href="#collect">collect</a></li>
        
        <li><a href="#compact">compact</a></li>
        
        <li><a href="#consume">consume</a></li>
        
        <li><a href="#debounce">debounce</a></li>
        
        <li><a href="#doto">doto</a></li>
        
        <li><a href="#drop">drop</a></li>
        
        <li><a href="#errors">errors</a></li>
        
        <li><a href="#filter">filter</a></li>
        
        <li><a href="#find">find</a></li>
        
        <li><a href="#findWhere">findWhere</a></li>
        
        <li><a href="#group">group</a></li>
        
        <li><a href="#head">head</a></li>
        
        <li><a href="#intersperse">intersperse</a></li>
        
        <li><a href="#invoke">invoke</a></li>
        
        <li><a href="#last">last</a></li>
        
        <li><a href="#latest">latest</a></li>
        
        <li><a href="#map">map</a></li>
        
        <li><a href="#nfcall">nfcall</a></li>
        
        <li><a href="#pick">pick</a></li>
        
        <li><a href="#pickBy">pickBy</a></li>
        
        <li><a href="#pluck">pluck</a></li>
        
        <li><a href="#ratelimit">ratelimit</a></li>
        
        <li><a href="#reduce">reduce</a></li>
        
        <li><a href="#reduce1">reduce1</a></li>
        
        <li><a href="#reject">reject</a></li>
        
        <li><a href="#scan">scan</a></li>
        
        <li><a href="#scan1">scan1</a></li>
        
        <li><a href="#slice">slice</a></li>
        
        <li><a href="#sort">sort</a></li>
        
        <li><a href="#sortBy">sortBy</a></li>
        
        <li><a href="#split">split</a></li>
        
        <li><a href="#splitBy">splitBy</a></li>
        
        <li><a href="#stopOnError">stopOnError</a></li>
        
        <li><a href="#take">take</a></li>
        
        <li><a href="#tap">tap</a></li>
        
        <li><a href="#throttle">throttle</a></li>
        
        <li><a href="#transduce">transduce</a></li>
        
        <li><a href="#uniq">uniq</a></li>
        
        <li><a href="#uniqBy">uniqBy</a></li>
        
        <li><a href="#where">where</a></li>
        
        
        <li class="heading"><a href="#Higher-order Streams">Higher-order Streams</a></li>
        
        <li><a href="#concat">concat</a></li>
        
        <li><a href="#flatFilter">flatFilter</a></li>
        
        <li><a href="#flatMap">flatMap</a></li>
        
        <li><a href="#flatten">flatten</a></li>
        
        <li><a href="#fork">fork</a></li>
        
        <li><a href="#merge">merge</a></li>
        
        <li><a href="#observe">observe</a></li>
        
        <li><a href="#otherwise">otherwise</a></li>
        
        <li><a href="#parallel">parallel</a></li>
        
        <li><a href="#pipeline">pipeline</a></li>
        
        <li><a href="#sequence">sequence</a></li>
        
        <li><a href="#series">series</a></li>
        
        <li><a href="#through">through</a></li>
        
        <li><a href="#zip">zip</a></li>
        
        <li><a href="#zipAll">zipAll</a></li>
        
        <li><a href="#zipAll0">zipAll0</a></li>
        
        
        <li class="heading"><a href="#Consumption">Consumption</a></li>
        
        <li><a href="#apply">apply</a></li>
        
        <li><a href="#done">done</a></li>
        
        <li><a href="#each">each</a></li>
        
        <li><a href="#pipe">pipe</a></li>
        
        <li><a href="#pull">pull</a></li>
        
        <li><a href="#toArray">toArray</a></li>
        
        
        <li class="heading"><a href="#Utils">Utils</a></li>
        
        <li><a href="#isStream">isStream</a></li>
        
        <li><a href="#log">log</a></li>
        
        <li><a href="#nil">nil</a></li>
        
        <li><a href="#streamifyAll">streamifyAll</a></li>
        
        <li><a href="#wrapCallback">wrapCallback</a></li>
        
        
        <li class="heading"><a href="#Objects">Objects</a></li>
        
        <li><a href="#extend">extend</a></li>
        
        <li><a href="#get">get</a></li>
        
        <li><a href="#keys">keys</a></li>
        
        <li><a href="#pairs">pairs</a></li>
        
        <li><a href="#set">set</a></li>
        
        <li><a href="#values">values</a></li>
        
        
        <li class="heading"><a href="#Functions">Functions</a></li>
        
        <li><a href="#compose">compose</a></li>
        
        <li><a href="#curry">curry</a></li>
        
        <li><a href="#flip">flip</a></li>
        
        <li><a href="#ncurry">ncurry</a></li>
        
        <li><a href="#partial">partial</a></li>
        
        <li><a href="#seq">seq</a></li>
        
        
        <li class="heading"><a href="#Operators">Operators</a></li>
        
        <li><a href="#add">add</a></li>
        
        <li><a href="#not">not</a></li>
        
        
      </ul>
    </nav>

    <main>

      <h3 id="introduction">Introduction</h3>
      <p>
        Re-thinking the
        <a href="http://underscorejs.org">JavaScript</a>
        <a href="http://lodash.com">utility</a>
        <a href="https://github.com/caolan/async">belt</a>,
        Highland manages synchronous and asynchronous code easily, using nothing more than
        standard JavaScript and Node-like Streams.
        You may be familiar with Promises, EventEmitters and callbacks, but moving
        between them is far from seamless. Thankfully, there exists a deeper abstraction
        which can free our code. By updating the tools we use on Arrays, and applying them
        to values distributed in time instead of space, we can discard plumbing and
        focus on the important things. With Highland, you can switch between
        synchronous and asynchronous data sources at will, without having to
        re-write your code. Time to dive in!
      </p>
      <p>
        Made by <a href="http://twitter.com/caolan">@caolan</a>, with help and patience from friends - <a href="http://gittip.com/caolan">Leave a tip</a> or <a href="https://github.com/caolan/highland">fork this</a> :)
      </p>

      <h3 id="browser">Usage in the browser</h3>
      <p>
        Highland can be used both in Node.js and in the browser. When you install the highland package,
        you will find a <i>dist/highland.js</i> file in the package hierarchy.
        This file has been prepared with browserify in order to bring a browser-ready version of highland.
      </p>
      <p>
        Simply load this script with a &lt;script&gt; tag, and a <i>highland</i> variable
        will be made available in the global javascript scope.
      </p>
      <p>
        If you prefer using highland under the name <i>_</i> like is done in the examples below,
        you can then simply use:
      </p>
      <pre><code class="javascript">var _ = highland</code></pre>
      <p>
        You can also integrate highland in your own browserify bundle using a classical browserify workflow,
        but this is beyond the scope of this documentation.
      </p>

      <h2 id="examples">Examples</h2>
      <p>Converting to/from Highland Streams</p>
      <pre><code class="javascript">_([1,2,3,4]).toArray(function (xs) {
    // xs is [1,2,3,4]
});</code></pre>
      <p>Mapping over a Stream</p>
      <pre><code class="javascript">var doubled = _([1,2,3,4]).map(function (x) {
    return x * 2;
});</code></pre>
      <p>Reading files in parallel (4 at once)</p>
      <pre><code class="javascript">var data = _(filenames).map(readFile).parallel(4);</code></pre>
      <p>Handling errors</p>
      <pre><code class="javascript">data.errors(function (err, rethrow) {
    // handle or rethrow error
});</code></pre>
      <p>Piping to a Node Stream</p>
      <pre><code class="javascript">data.pipe(output);</code></pre>
      <p>Piping in data from Node Streams</p>
      <pre><code class="javascript">var output = fs.createWriteStream('output');
var docs = db.createReadStream();

// wrap a node stream and pipe to file
_(docs).filter(isBlogpost).pipe(output);

// or, pipe in a node stream directly:
var through = _.pipeline(_.filter(isBlogpost));
docs.pipe(through).pipe(output);</code></pre>
      <p>Handling events</p>
      <pre><code class="javascript">var clicks = _('click', btn).map(1);
var counter = clicks.scan(0, _.add);

counter.each(function (n) {
    $('#count').text(n);
});</code></pre>

      <h3 id="arrays">Arrays</h3>
      <p>To work with data in Arrays, just wrap it in <code>_()</code>. The Highland methods are then available on it:</p>
<pre><code class="javascript">var shouty = _(['foo', 'bar', 'baz']).map(toUpperCase);</code></pre>
      <p>These methods return Stream objects, not Arrays, so you can chain together method calls:</p>
      <pre><code class="javascript">_(['foo', 'bar', 'baz']).map(toUpperCase).map(function (x) {
    return {name: x};
});</code></pre>
      <p>When using the Highland APIs there is little reason to turn this back into an Array, but if you're calling an outside library you may need to convert it back:</p>
      <pre><code class="javascript">_(['foo', 'bar', 'baz']).map(toUpperCase).toArray(function (xs) {
    // xs will now be ['FOO', 'BAR', 'BAZ]
});</code></pre>
      <p>Passing a function to the <code>toArray</code> call may seem a little unfamiliar, but this enables an important trick in Highland. Now, without changing any of your existing code, you could swap out <code class="javascript">['foo', 'bar', 'baz']</code> for an asynchronous data source, and it would just work!</p>
      <p>You can also pass Arrays into the top-level functions instead of using methods on the Stream object:</p>
      <pre><code class="javascript">_.map(doubled, [1, 2, 3, 4])  // => 2 4 6 8</code></pre>
      <p>Note, this still returns a Stream.</p>

      <h3 id="async">Async</h3>
      <p>Now, let's see how we might swap out an Array source for an asynchronous one. By passing a function to the Stream constructor we can manually push values onto the Stream:</p>
      <pre><code class="javascript">function getData(filename) {
    // create a new Stream
    return _(function (push, next) {
        // do something async when we read from the Stream
        fs.readFile(filename, function (err, data) {
            push(err, data);
            push(null, _.nil);
        });
    });
};</code></pre>
      <p>First, we return a new Stream which when read from will read a file (this is called lazy evaluation). When <code>fs.readFile</code> calls its callback, we push the error and data values onto the Stream. Finally, we push <code>_.nil</code> onto the Stream. This is the "end of stream" marker and will tell any consumers of this stream to stop reading.</p>
      <p>Since wrapping a callback is a fairly common thing to do, there is a convenience function:</p>
      <pre><code class="javascript">var getData = _.wrapCallback(fs.readFile);</code></pre>
      <p>Now we have a new asynchronous source, we can run the exact same code from the Array examples on it:</p>
      <pre><code class="javascript">getData('myfile').map(toUpperCase).map(function (x) {
    return {name: x};
});</code></pre>
      <p>With Highland, we really can have one language to work with both synchronous and asynchronous data, whether it's from a Node Stream, an EventEmitter, a callback or an Array. You can even wrap ES6 or jQuery promises:</p>
      <pre><code class="javascript">var foo = _($.getJSON('/api/foo'));</code></pre>

      <h3 id="laziness">Laziness</h3>
      <p>When you call <code>map</code> in Highland, it doesn't go off and immediately map over all your data. Rather it defines your intention, and the hard work occurs as you pull data from the Stream. This is 'lazy evaluation' and it's what enables Highland to manage back-pressure and also the sequencing of asynchronous actions, such as reading from a file.</p>
      <pre><code class="javascript">var calls = 0;

var nums = _(['1', '2', '3']).map(function (x) {
    calls++;
    return Number(x);
});

// calls === 0</code></pre>
      <p>To get the map iterator to be called, we must pull some data from the Stream. This is called a <strong><em>thunk</em></strong>, and some Highland methods will cause them (eg, <code>each</code>, <code>done</code>, <code>apply</code>, <code>toArray</code>, <code>pipe</code>, <code>resume</code>).</p>
      <pre><code class="javascript">nums.each(function (n) { console.log(n); });

// calls === 3</code></pre>
      <p>Equally, when we tell Highland to map a Stream of filenames to the readFile function, it doesn't actually go and read all the files at once, it let's us decide on how we want to read them:</p>
      <pre><code class="javascript">filenames.map(readFile).series();
filenames.map(readFile).parallel(10)</code></pre>

      <h3 id="backpressure">Back-pressure</h3>
      <p>Since Highland is designed to play nicely with Node Streams, it also support back-pressure. This means that a fast source will not overwhelm a slow consumer.</p>
      <pre><code class="javascript">fastSource.map(slowThing)</code></pre>
      <p>In the above example, <code>fastSource</code> will be paused while <code>slowThing</code> does its processing.</p>
      <p>Some streams (such as those based on events) cannot be paused. In these cases data is buffered until the consumer is ready to handle it. If you expect a non-pausable source to be consumed by a slow consumer, then you should use methods such as <a href="#throttle">throttle</a> or <a href="#latest">latest</a> to selectively drop data and regulate the flow.</p>
      <p>Occasionally, you'll need to split Streams in your program. At this point, Highland will force you to choose between sharing back-pressure with the new consumer, or letting the existing consumer regulate backpressure and have the new consumer simply observe values as they arrive. Attempting to add two consumers to a Stream without calling <a href="#fork">fork</a> or <a href="#observe">observe</a> will throw an error.</p>
      <pre><code class="javascript">// shared back-pressure
source.map(output1);
source.fork().map(output2);

// let the first handle backpressure and the second simply observe
source.map(output);
source.observe().map(_.log);</code></pre>

      <h3 id="currying">Currying</h3>
      <p>As well as calling functions as methods on the Stream object, Highland also exports them at the top-level.</p>
      <pre><code class="javascript">mystream.map(doubled)
// is equivalent to
_.map(doubled, mystream)</code></pre>
      <p>By convention, all top-level functions are 'curryable', meaning you can partially apply their arguments. In the above example, this could be called as:</p>
      <pre><code class="javascript">_.map(doubled)(mystream);</code></pre>
      <p>In real-world use, this means you can define the behaviour you'd like before knowing what Stream you'd like to perform it on:</p>
      <pre><code class="javascript">// partially apply the filter() function to create a new function
var getBlogposts = _.filter(function (doc) {
    return doc.type === 'blogpost';
});

// now we can use the new function by completing its arguments
getBlogposts(data); // => new Stream of blogposts</code></pre>
      <p>You can curry your own functions too:</p>
      <pre><code class="javascript">var myCurryableFn = _.curry(fn);</code></pre>

      <h3 id="events">Events</h3>
      <p>Streams can used to handle events as well as data, control-flow and error propagation. This is often a convenient way to filter and combine events into groups, a common goal on dynamically updated sites.</p>
      <pre><code class="javascript">var inbox = _('message', client).where({recipient: 'me'});</code></pre>
      <p>If you expect to receive a lot of events, and perform an async process on each of them, then you should sample the events instead of buffering all of them.</p>
      <pre><code class="javascript">// get a frequent event source
var text = _('keyup', $('#searchbox'));

// Regulate event stream:
// - wait until no keyup events for 1s
// - when read from, only return the latest value
var searches = text.debounce(1000).latest();

// map the search events to an AJAX request
var results = searches.map(searchRequest);

// for each response, display it
results.each(function (result) {
    // display result
});</code></pre>

      
        <h2 id="Stream Objects">Stream Objects</h2>

        <div class="doc-items">
        
          <div id=_(source) class="doc-item">
            <div class="doc-heading">
              <ul class="links">
                <li><a href="https://github.com/caolan/highland/blob//lib/index.js#L15"><i class="fi-pencil"></i> Source</a></li>
                <li><a href="#_(source)"><i class="fi-link"></i> Link</a></li>
              </ul>
              <pre>_(source)</pre>
            </div>

            <p>The Stream constructor, accepts an array of values or a generator function
as an optional argument. This is typically the entry point to the Highland
APIs, providing a convenient way of chaining calls together.</p>

<p><strong>Arrays -</strong> Streams created from Arrays will emit each value of the Array
and then emit a <a href="#nil">nil</a> value to signal the end of the Stream.</p>

<p><strong>Generators -</strong> These are functions which provide values for the Stream.
They are lazy and can be infinite, they can also be asynchronous (for
example, making a HTTP request). You emit values on the Stream by calling
<code>push(err, val)</code>, much like a standard Node.js callback. Once it has been
called, the generator function will not be called again unless you call
<code>next()</code>. This call to <code>next()</code> will signal you've finished processing the
current data and allow for the generator function to be called again. If the
Stream is still being consumed the generator function will then be called
again.</p>

<p>You can also redirect a generator Stream by passing a new source Stream
to read from to next. For example: <code>next(other_stream)</code> - then any subsequent
calls will be made to the new source.</p>

<p><strong>Node Readable Stream -</strong> Pass in a Node Readable Stream object to wrap
it with the Highland API. Reading from the resulting Highland Stream will
begin piping the data from the Node Stream to the Highland Stream.</p>

<p><strong>EventEmitter / jQuery Elements -</strong> Pass in both an event name and an
event emitter as the two arguments to the constructor and the first
argument emitted to the event handler will be written to the new Stream.</p>

<p>You can also pass as an optional third parameter a function, an array of strings
or a number. In this case the event handler will try to wrap the arguments emitted
to it and write this object to the new stream.</p>

<p><strong>Promise -</strong> Accepts an ES6 / jQuery style promise and returns a
Highland Stream which will emit a single value (or an error).</p>

<p><strong>Iterator -</strong> Accepts an ES6 style iterator that implements the <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Iteration_protocols#The_.22iterator.22_protocol">iterator protocol</a>:
yields all the values from the iterator using its <code>next()</code> method and terminates when the
iterator's done value returns true. If the iterator's <code>next()</code> method throws, the exception will be emitted as an error,
and the stream will be ended with no further calls to <code>next()</code>.</p>

<p><strong>Iterable -</strong> Accepts an object that implements the <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Iteration_protocols#The_.22iterable.22_protocol">iterable protocol</a>,
i.e., contains a method that returns an object that conforms to the iterator protocol. The stream will use the
iterator defined in the <code>Symbol.iterator</code> property of the iterable object to generate emitted values.</p>

            
            <div class="doc-params-heading">Parameters</div>
            <ul>
              
                <li>
                  <code>source</code>
                   - <em>Array | Function | Readable Stream | Promise | Iterator | Iterable</em>
                   - (optional) source to take values from from
                </li>
              
            </ul>
            

            
            <pre><code class="javascript">// from an Array
_([1, 2, 3, 4]);

// using a generator function
_(function (push, next) {
    push(null, 1);
    push(err);
    next();
});

// a stream with no source, can pipe node streams through it etc.
var through = _();

// wrapping a Node Readable Stream so you can easily manipulate it
_(readable).filter(hasSomething).pipe(writeable);

// creating a stream from events
_(&#x27;click&#x27;, btn).each(handleEvent);

// creating a stream from events with mapping
_(&#x27;request&#x27;, httpServer, [&#x27;req&#x27;, &#x27;res&#x27;]).each(handleEvent);

// from a Promise object
var foo = _($.getJSON(&#x27;/api/foo&#x27;));

//from an iterator
var map = new Map([[&#x27;a&#x27;, 1], [&#x27;b&#x27;, 2]]);
var bar = _(map.values()).toArray(_.log);
//=&gt; [1, 2]

//from an iterable
var set = new Set([1, 2, 2, 3, 4]);
var bar = _(set).toArray(_.log);
//=&gt; [ 1, 2, 3, 4]</code></pre>
            
          </div>
        
          <div id=destroy class="doc-item">
            <div class="doc-heading">
              <ul class="links">
                <li><a href="https://github.com/caolan/highland/blob//lib/index.js#L898"><i class="fi-pencil"></i> Source</a></li>
                <li><a href="#destroy"><i class="fi-link"></i> Link</a></li>
              </ul>
              <pre>Stream.destroy()</pre>
            </div>

            <p>Destroys a stream by unlinking it from any consumers and sources. This will
stop all consumers from receiving events from this stream and removes this
stream as a consumer of any source stream.</p>

<p>This function calls end() on the stream and unlinks it from any piped-to streams.</p>

            

            
          </div>
        
          <div id=end class="doc-item">
            <div class="doc-heading">
              <ul class="links">
                <li><a href="https://github.com/caolan/highland/blob//lib/index.js#L817"><i class="fi-pencil"></i> Source</a></li>
                <li><a href="#end"><i class="fi-link"></i> Link</a></li>
              </ul>
              <pre>Stream.end()</pre>
            </div>

            <p>Ends a Stream. This is the same as sending a <a href="#nil">nil</a> value as data.
You shouldn't need to call this directly, rather it will be called by
any <a href="http://nodejs.org/api/stream.html#stream_class_stream_readable">Node Readable Streams</a>
you pipe in.</p>

<p>Only call this function on streams that were constructed with no source
(i.e., with <code>_()</code>).</p>

            

            
            <pre><code class="javascript">mystream.end();</code></pre>
            
          </div>
        
          <div id=pause class="doc-item">
            <div class="doc-heading">
              <ul class="links">
                <li><a href="https://github.com/caolan/highland/blob//lib/index.js#L674"><i class="fi-pencil"></i> Source</a></li>
                <li><a href="#pause"><i class="fi-link"></i> Link</a></li>
              </ul>
              <pre>Stream.pause()</pre>
            </div>

            <p>Pauses the stream. All Highland Streams start in the paused state.</p>

            

            
            <pre><code class="javascript">var xs = _(generator);
xs.pause();</code></pre>
            
          </div>
        
          <div id=resume class="doc-item">
            <div class="doc-heading">
              <ul class="links">
                <li><a href="https://github.com/caolan/highland/blob//lib/index.js#L763"><i class="fi-pencil"></i> Source</a></li>
                <li><a href="#resume"><i class="fi-link"></i> Link</a></li>
              </ul>
              <pre>Stream.resume()</pre>
            </div>

            <p>Resumes a paused Stream. This will either read from the Stream's incoming
buffer or request more data from an upstream source.</p>

            

            
            <pre><code class="javascript">var xs = _(generator);
xs.resume();</code></pre>
            
          </div>
        
          <div id=write class="doc-item">
            <div class="doc-heading">
              <ul class="links">
                <li><a href="https://github.com/caolan/highland/blob//lib/index.js#L1174"><i class="fi-pencil"></i> Source</a></li>
                <li><a href="#write"><i class="fi-link"></i> Link</a></li>
              </ul>
              <pre>Stream.write(x)</pre>
            </div>

            <p>Writes a value to the Stream. If the Stream is paused it will go into the
Stream's incoming buffer, otherwise it will be immediately processed and
sent to the Stream's consumers (if any). Returns false if the Stream is
paused, true otherwise. This lets Node's pipe method handle back-pressure.</p>

<p>You shouldn't need to call this yourself, but it may be called by Node
functions which treat Highland Streams as a <a href="http://nodejs.org/api/stream.html#stream_class_stream_writable">Node Writable Stream</a>.</p>

<p>Only call this function on streams that were constructed with no source
(i.e., with <code>_()</code>).</p>

            
            <div class="doc-params-heading">Parameters</div>
            <ul>
              
                <li>
                  <code>x</code>
                  
                   - the value to write to the Stream
                </li>
              
            </ul>
            

            
            <pre><code class="javascript">var xs = _();
xs.write(1);
xs.write(2);
xs.end();

xs.toArray(function (ys) {
    // ys will be [1, 2]
});

// Do *not* do this.
var xs2 = _().toArray(_.log);
xs2.write(1); // This call is illegal.</code></pre>
            
          </div>
        
        </div>

      
        <h2 id="Transforms">Transforms</h2>

        <div class="doc-items">
        
          <div id=append class="doc-item">
            <div class="doc-heading">
              <ul class="links">
                <li><a href="https://github.com/caolan/highland/blob//lib/index.js#L3040"><i class="fi-pencil"></i> Source</a></li>
                <li><a href="#append"><i class="fi-link"></i> Link</a></li>
              </ul>
              <pre>Stream.append(y)</pre>
            </div>

            <p>Adds a value to the end of a Stream.</p>

            
            <div class="doc-params-heading">Parameters</div>
            <ul>
              
                <li>
                  <code>y</code>
                  
                   - the value to append to the Stream
                </li>
              
            </ul>
            

            
            <pre><code class="javascript">_([1, 2, 3]).append(4)  // =&gt; 1, 2, 3, 4</code></pre>
            
          </div>
        
          <div id=batch class="doc-item">
            <div class="doc-heading">
              <ul class="links">
                <li><a href="https://github.com/caolan/highland/blob//lib/index.js#L2266"><i class="fi-pencil"></i> Source</a></li>
                <li><a href="#batch"><i class="fi-link"></i> Link</a></li>
              </ul>
              <pre>Stream.batch(n)</pre>
            </div>

            <p>Takes one Stream and batches incoming data into arrays of given length</p>

            
            <div class="doc-params-heading">Parameters</div>
            <ul>
              
                <li>
                  <code>n</code>
                   - <em>Number</em>
                   - length of the array to batch
                </li>
              
            </ul>
            

            
            <pre><code class="javascript">_([1, 2, 3, 4, 5]).batch(2)  // =&gt; [1, 2], [3, 4], [5]</code></pre>
            
          </div>
        
          <div id=batchWithTimeOrCount class="doc-item">
            <div class="doc-heading">
              <ul class="links">
                <li><a href="https://github.com/caolan/highland/blob//lib/index.js#L2283"><i class="fi-pencil"></i> Source</a></li>
                <li><a href="#batchWithTimeOrCount"><i class="fi-link"></i> Link</a></li>
              </ul>
              <pre>Stream.batchWithTimeOrCount(ms, n)</pre>
            </div>

            <p>Takes one Stream and batches incoming data within a maximum time frame
into arrays of a maximum length.</p>

            
            <div class="doc-params-heading">Parameters</div>
            <ul>
              
                <li>
                  <code>ms</code>
                   - <em>Number</em>
                   - the maximum milliseconds to buffer a batch
                </li>
              
                <li>
                  <code>n</code>
                   - <em>Number</em>
                   - the maximum length of the array to batch
                </li>
              
            </ul>
            

            
            <pre><code class="javascript">_(function (push) {
    push(1);
    push(2);
    push(3);
    setTimeout(push, 20, 4);
}).batchWithTimeOrCount(10, 2)

// =&gt; [1, 2], [3], [4]</code></pre>
            
          </div>
        
          <div id=collect class="doc-item">
            <div class="doc-heading">
              <ul class="links">
                <li><a href="https://github.com/caolan/highland/blob//lib/index.js#L3150"><i class="fi-pencil"></i> Source</a></li>
                <li><a href="#collect"><i class="fi-link"></i> Link</a></li>
              </ul>
              <pre>Stream.collect()</pre>
            </div>

            <p>Groups all values into an Array and passes down the stream as a single
data event. This is a bit like doing <a href="#toArray">toArray</a>, but instead
of accepting a callback and causing a <em>thunk</em>, it passes the value on.</p>

            

            
            <pre><code class="javascript">_([&#x27;foo&#x27;, &#x27;bar&#x27;]).collect().toArray(function (xs) {
    // xs will be [[&#x27;foo&#x27;, &#x27;bar&#x27;]]
});</code></pre>
            
          </div>
        
          <div id=compact class="doc-item">
            <div class="doc-heading">
              <ul class="links">
                <li><a href="https://github.com/caolan/highland/blob//lib/index.js#L2006"><i class="fi-pencil"></i> Source</a></li>
                <li><a href="#compact"><i class="fi-link"></i> Link</a></li>
              </ul>
              <pre>Stream.compact()</pre>
            </div>

            <p>Filters a Stream to drop all non-truthy values.</p>

            

            
            <pre><code class="javascript">var compacted = _([0, 1, false, 3, null, undefined, 6]).compact();
// =&gt; 1, 3, 6</code></pre>
            
          </div>
        
          <div id=consume class="doc-item">
            <div class="doc-heading">
              <ul class="links">
                <li><a href="https://github.com/caolan/highland/blob//lib/index.js#L1039"><i class="fi-pencil"></i> Source</a></li>
                <li><a href="#consume"><i class="fi-link"></i> Link</a></li>
              </ul>
              <pre>Stream.consume(f)</pre>
            </div>

            <p>Consumes values from a Stream (once resumed) and returns a new Stream for
you to optionally push values onto using the provided push / next functions.</p>

<p>This function forms the basis of many higher-level Stream operations.
It will not cause a paused stream to immediately resume, but behaves more
like a 'through' stream, handling values as they are read.</p>

            
            <div class="doc-params-heading">Parameters</div>
            <ul>
              
                <li>
                  <code>f</code>
                   - <em>Function</em>
                   - the function to handle errors and values
                </li>
              
            </ul>
            

            
            <pre><code class="javascript">var filter = function (f, source) {
    return source.consume(function (err, x, push, next) {
        if (err) {
            // pass errors along the stream and consume next value
            push(err);
            next();
        }
        else if (x === _.nil) {
            // pass nil (end event) along the stream
            push(null, x);
        }
        else {
            // pass on the value only if the value passes the predicate
            if (f(x)) {
                push(null, x);
            }
            next();
        }
    });
};</code></pre>
            
          </div>
        
          <div id=debounce class="doc-item">
            <div class="doc-heading">
              <ul class="links">
                <li><a href="https://github.com/caolan/highland/blob//lib/index.js#L3645"><i class="fi-pencil"></i> Source</a></li>
                <li><a href="#debounce"><i class="fi-link"></i> Link</a></li>
              </ul>
              <pre>Stream.debounce(ms)</pre>
            </div>

            <p>Holds off pushing data events downstream until there has been no more
data for <code>ms</code> milliseconds. Sends the last value that occurred before
the delay, discarding all other values.</p>

            
            <div class="doc-params-heading">Parameters</div>
            <ul>
              
                <li>
                  <code>ms</code>
                   - <em>Number</em>
                   - the milliseconds to wait before sending data
                </li>
              
            </ul>
            

            
            <pre><code class="javascript">// sends last keyup event after user has stopped typing for 1 second
$(&#x27;keyup&#x27;, textbox).debounce(1000);</code></pre>
            
          </div>
        
          <div id=doto class="doc-item">
            <div class="doc-heading">
              <ul class="links">
                <li><a href="https://github.com/caolan/highland/blob//lib/index.js#L1538"><i class="fi-pencil"></i> Source</a></li>
                <li><a href="#doto"><i class="fi-link"></i> Link</a></li>
              </ul>
              <pre>Stream.doto(f)</pre>
            </div>

            <p>Creates a new Stream which applies a function to each value from the source
and re-emits the source value. Useful when you want to mutate the value or
perform side effects</p>

            
            <div class="doc-params-heading">Parameters</div>
            <ul>
              
                <li>
                  <code>f</code>
                  
                   - the function to apply
                </li>
              
            </ul>
            

            
            <pre><code class="javascript">var appended = _([[1], [2], [3], [4]]).doto(function (x) {
    x.push(1);
});

_([1, 2, 3]).doto(console.log)
// 1
// 2
// 3
// =&gt; 1, 2, 3</code></pre>
            
          </div>
        
          <div id=drop class="doc-item">
            <div class="doc-heading">
              <ul class="links">
                <li><a href="https://github.com/caolan/highland/blob//lib/index.js#L2512"><i class="fi-pencil"></i> Source</a></li>
                <li><a href="#drop"><i class="fi-link"></i> Link</a></li>
              </ul>
              <pre>Stream.drop(n)</pre>
            </div>

            <p>Acts as the inverse of <a href="#take"><code>take(n)</code></a> - instead of returning the first <code>n</code> values, it ignores the
first <code>n</code> values and then emits the rest. All errors (even ones emitted before the nth value)
will be emitted.</p>

            
            <div class="doc-params-heading">Parameters</div>
            <ul>
              
                <li>
                  <code>n</code>
                   - <em>Number</em>
                   - integer representing number of values to read from source
                </li>
              
            </ul>
            

            
            <pre><code class="javascript">_([1, 2, 3, 4]).drop(2) // =&gt; 3, 4</code></pre>
            
          </div>
        
          <div id=errors class="doc-item">
            <div class="doc-heading">
              <ul class="links">
                <li><a href="https://github.com/caolan/highland/blob//lib/index.js#L1280"><i class="fi-pencil"></i> Source</a></li>
                <li><a href="#errors"><i class="fi-link"></i> Link</a></li>
              </ul>
              <pre>Stream.errors(f)</pre>
            </div>

            <p>Extracts errors from a Stream and applies them to an error handler
function. Returns a new Stream with the errors removed (unless the error
handler chooses to rethrow them using <code>push</code>). Errors can also be
transformed and put back onto the Stream as values.</p>

            
            <div class="doc-params-heading">Parameters</div>
            <ul>
              
                <li>
                  <code>f</code>
                   - <em>Function</em>
                   - the function to pass all errors to
                </li>
              
            </ul>
            

            
            <pre><code class="javascript">getDocument.errors(function (err, push) {
    if (err.statusCode === 404) {
        // not found, return empty doc
        push(null, {});
    }
    else {
        // otherwise, re-throw the error
        push(err);
    }
});</code></pre>
            
          </div>
        
          <div id=filter class="doc-item">
            <div class="doc-heading">
              <ul class="links">
                <li><a href="https://github.com/caolan/highland/blob//lib/index.js#L1803"><i class="fi-pencil"></i> Source</a></li>
                <li><a href="#filter"><i class="fi-link"></i> Link</a></li>
              </ul>
              <pre>Stream.filter(f)</pre>
            </div>

            <p>Creates a new Stream including only the values which pass a truth test.</p>

            
            <div class="doc-params-heading">Parameters</div>
            <ul>
              
                <li>
                  <code>f</code>
                  
                   - the truth test function
                </li>
              
            </ul>
            

            
            <pre><code class="javascript">var evens = _([1, 2, 3, 4]).filter(function (x) {
    return x % 2 === 0;
});</code></pre>
            
          </div>
        
          <div id=find class="doc-item">
            <div class="doc-heading">
              <ul class="links">
                <li><a href="https://github.com/caolan/highland/blob//lib/index.js#L1900"><i class="fi-pencil"></i> Source</a></li>
                <li><a href="#find"><i class="fi-link"></i> Link</a></li>
              </ul>
              <pre>Stream.find(f)</pre>
            </div>

            <p>A convenient form of <a href="#filter">filter</a>, which returns the first object from a
Stream that passes the provided truth test</p>

            
            <div class="doc-params-heading">Parameters</div>
            <ul>
              
                <li>
                  <code>f</code>
                   - <em>Function</em>
                   - the truth test function which returns a Stream
                </li>
              
            </ul>
            

            
            <pre><code class="javascript">var docs = [
    {type: &#x27;blogpost&#x27;, title: &#x27;foo&#x27;},
    {type: &#x27;blogpost&#x27;, title: &#x27;bar&#x27;},
    {type: &#x27;comment&#x27;, title: &#x27;foo&#x27;}
];

var f = function (x) {
    return x.type == &#x27;blogpost&#x27;;
};

_(docs).find(f);
// =&gt; {type: &#x27;blogpost&#x27;, title: &#x27;foo&#x27;}

// example with partial application
var firstBlogpost = _.find(f);

firstBlogpost(docs)
// =&gt; {type: &#x27;blogpost&#x27;, title: &#x27;foo&#x27;}</code></pre>
            
          </div>
        
          <div id=findWhere class="doc-item">
            <div class="doc-heading">
              <ul class="links">
                <li><a href="https://github.com/caolan/highland/blob//lib/index.js#L1935"><i class="fi-pencil"></i> Source</a></li>
                <li><a href="#findWhere"><i class="fi-link"></i> Link</a></li>
              </ul>
              <pre>Stream.findWhere(props)</pre>
            </div>

            <p>A convenient form of <a href="#where">where</a>, which returns the first object from a
Stream that matches a set of property values. findWhere is to <a href="#where">where</a> as <a href="#find">find</a> is to <a href="#filter">filter</a>.</p>

            
            <div class="doc-params-heading">Parameters</div>
            <ul>
              
                <li>
                  <code>props</code>
                   - <em>Object</em>
                   - the properties to match against
                </li>
              
            </ul>
            

            
            <pre><code class="javascript">var docs = [
    {type: &#x27;blogpost&#x27;, title: &#x27;foo&#x27;},
    {type: &#x27;blogpost&#x27;, title: &#x27;bar&#x27;},
    {type: &#x27;comment&#x27;, title: &#x27;foo&#x27;}
];

_(docs).findWhere({type: &#x27;blogpost&#x27;})
// =&gt; {type: &#x27;blogpost&#x27;, title: &#x27;foo&#x27;}

// example with partial application
var firstBlogpost = _.findWhere({type: &#x27;blogpost&#x27;});

firstBlogpost(docs)
// =&gt; {type: &#x27;blogpost&#x27;, title: &#x27;foo&#x27;}</code></pre>
            
          </div>
        
          <div id=group class="doc-item">
            <div class="doc-heading">
              <ul class="links">
                <li><a href="https://github.com/caolan/highland/blob//lib/index.js#L1967"><i class="fi-pencil"></i> Source</a></li>
                <li><a href="#group"><i class="fi-link"></i> Link</a></li>
              </ul>
              <pre>Stream.group(f)</pre>
            </div>

            <p>A convenient form of <a href="#reduce">reduce</a>, which groups items based on a function or property name</p>

            
            <div class="doc-params-heading">Parameters</div>
            <ul>
              
                <li>
                  <code>f</code>
                   - <em>Function|String</em>
                   - the function or property name on which to group, toString() is called on the result of a function.
                </li>
              
            </ul>
            

            
            <pre><code class="javascript">var docs = [
    {type: &#x27;blogpost&#x27;, title: &#x27;foo&#x27;},
    {type: &#x27;blogpost&#x27;, title: &#x27;bar&#x27;},
    {type: &#x27;comment&#x27;, title: &#x27;foo&#x27;}
];

var f = function (x) {
    return x.type;
};

_(docs).group(f); OR _(docs).group(&#x27;type&#x27;);
// =&gt; {
// =&gt;    &#x27;blogpost&#x27;: [{type: &#x27;blogpost&#x27;, title: &#x27;foo&#x27;}, {type: &#x27;blogpost&#x27;, title: &#x27;bar&#x27;}]
// =&gt;    &#x27;comment&#x27;: [{type: &#x27;comment&#x27;, title: &#x27;foo&#x27;}]
// =&gt;  }</code></pre>
            
          </div>
        
          <div id=head class="doc-item">
            <div class="doc-heading">
              <ul class="links">
                <li><a href="https://github.com/caolan/highland/blob//lib/index.js#L2531"><i class="fi-pencil"></i> Source</a></li>
                <li><a href="#head"><i class="fi-link"></i> Link</a></li>
              </ul>
              <pre>Stream.head()</pre>
            </div>

            <p>Creates a new Stream with only the first value from the source.</p>

            

            
            <pre><code class="javascript">_([1, 2, 3, 4]).head() // =&gt; 1</code></pre>
            
          </div>
        
          <div id=intersperse class="doc-item">
            <div class="doc-heading">
              <ul class="links">
                <li><a href="https://github.com/caolan/highland/blob//lib/index.js#L2342"><i class="fi-pencil"></i> Source</a></li>
                <li><a href="#intersperse"><i class="fi-link"></i> Link</a></li>
              </ul>
              <pre>Stream.intersperse(sep)</pre>
            </div>

            <p>Creates a new Stream with the separator interspersed between the elements of the source.</p>

<p>intersperse is effectively the inverse of <a href="#splitBy">splitBy</a>.</p>

            
            <div class="doc-params-heading">Parameters</div>
            <ul>
              
                <li>
                  <code>sep</code>
                  
                   - the value to intersperse between the source elements
                </li>
              
            </ul>
            

            
            <pre><code class="javascript">_([&#x27;ba&#x27;, &#x27;a&#x27;, &#x27;a&#x27;]).intersperse(&#x27;n&#x27;)  // =&gt; ba, n, a, n, a
_([&#x27;mississippi&#x27;]).splitBy(&#x27;ss&#x27;).intersperse(&#x27;ss&#x27;)  // =&gt; mi, ss, i, ss, ippi
_([&#x27;foo&#x27;]).intersperse(&#x27;bar&#x27;)  // =&gt; foo</code></pre>
            
          </div>
        
          <div id=invoke class="doc-item">
            <div class="doc-heading">
              <ul class="links">
                <li><a href="https://github.com/caolan/highland/blob//lib/index.js#L3530"><i class="fi-pencil"></i> Source</a></li>
                <li><a href="#invoke"><i class="fi-link"></i> Link</a></li>
              </ul>
              <pre>Stream.invoke(method, args)</pre>
            </div>

            <p>Calls a named method on each object from the Stream - returning
a new stream with the result of those calls.</p>

            
            <div class="doc-params-heading">Parameters</div>
            <ul>
              
                <li>
                  <code>method</code>
                   - <em>String</em>
                   - the method name to call
                </li>
              
                <li>
                  <code>args</code>
                   - <em>Array</em>
                   - the arguments to call the method with
                </li>
              
            </ul>
            

            
            <pre><code class="javascript">_([&#x27;foo&#x27;, &#x27;bar&#x27;]).invoke(&#x27;toUpperCase&#x27;, [])  // =&gt; FOO, BAR

filenames.map(readFile).sequence().invoke(&#x27;toString&#x27;, [&#x27;utf8&#x27;]);</code></pre>
            
          </div>
        
          <div id=last class="doc-item">
            <div class="doc-heading">
              <ul class="links">
                <li><a href="https://github.com/caolan/highland/blob//lib/index.js#L2547"><i class="fi-pencil"></i> Source</a></li>
                <li><a href="#last"><i class="fi-link"></i> Link</a></li>
              </ul>
              <pre>Stream.last()</pre>
            </div>

            <p>Drops all values from the Stream apart from the last one (if any).</p>

            

            
            <pre><code class="javascript">_([1, 2, 3, 4]).last()  // =&gt; 4</code></pre>
            
          </div>
        
          <div id=latest class="doc-item">
            <div class="doc-heading">
              <ul class="links">
                <li><a href="https://github.com/caolan/highland/blob//lib/index.js#L3692"><i class="fi-pencil"></i> Source</a></li>
                <li><a href="#latest"><i class="fi-link"></i> Link</a></li>
              </ul>
              <pre>Stream.latest()</pre>
            </div>

            <p>Creates a new Stream, which when read from, only returns the last
seen value from the source. The source stream does not experience
back-pressure. Useful if you're using a Stream to model a changing
property which you need to query periodically.</p>

            

            
            <pre><code class="javascript">// slowThing will always get the last known mouse position
// when it asks for more data from the mousePosition stream
mousePosition.latest().map(slowThing)</code></pre>
            
          </div>
        
          <div id=map class="doc-item">
            <div class="doc-heading">
              <ul class="links">
                <li><a href="https://github.com/caolan/highland/blob//lib/index.js#L1489"><i class="fi-pencil"></i> Source</a></li>
                <li><a href="#map"><i class="fi-link"></i> Link</a></li>
              </ul>
              <pre>Stream.map(f)</pre>
            </div>

            <p>Creates a new Stream of transformed values by applying a function to each
value from the source. The transformation function can be replaced with
a non-function value for convenience, and it will emit that value
for every data event on the source Stream.</p>

            
            <div class="doc-params-heading">Parameters</div>
            <ul>
              
                <li>
                  <code>f</code>
                  
                   - the transformation function or value to map to
                </li>
              
            </ul>
            

            
            <pre><code class="javascript">var doubled = _([1, 2, 3, 4]).map(function (x) {
    return x * 2;
});

_([1, 2, 3]).map(&#x27;hi&#x27;)  // =&gt; &#x27;hi&#x27;, &#x27;hi&#x27;, &#x27;hi&#x27;</code></pre>
            
          </div>
        
          <div id=nfcall class="doc-item">
            <div class="doc-heading">
              <ul class="links">
                <li><a href="https://github.com/caolan/highland/blob//lib/index.js#L3553"><i class="fi-pencil"></i> Source</a></li>
                <li><a href="#nfcall"><i class="fi-link"></i> Link</a></li>
              </ul>
              <pre>Stream.nfcall(args)</pre>
            </div>

            <p>Takes a Stream of callback-accepting node-style functions,
<a href="#wrapCallback">wraps</a> each one into a stream-returning function,
calls them with the arguments provided, and returns the results
as a Stream.</p>

<p>This can be used as a control flow shortcut and draws parallels
with some control flow functions from <a href="https://github.com/caolan/async">async</a>.
A few rough correspondences include:</p>

<ul>
<li><code>.nfcall([]).series()</code> to <code>async.series()</code></li>
<li><code>.nfcall([]).parallel(n)</code> to <code>async.parallelLimit(n)</code></li>
<li><code>.nfcall(args)</code> to <code>async.applyEach(..., args)</code></li>
<li><code>.nfcall(args).series()</code> to <code>async.applyEachSeries(..., args)</code></li>
</ul>

            
            <div class="doc-params-heading">Parameters</div>
            <ul>
              
                <li>
                  <code>args</code>
                   - <em>Array</em>
                   - the arguments to call each function with
                </li>
              
            </ul>
            

            
            <pre><code class="javascript">_([
  function (callback) {
    setTimeout(function () {
      callback(null, &#x27;one&#x27;);
    }, 200);
  },
  function (callback) {
    setTimeout(function () {
      callback(null, &#x27;two&#x27;);
    }, 100);
  }
]).nfcall([]).parallel(2).toArray(function (xs) {
  // xs is [&#x27;one&#x27;, &#x27;two&#x27;] even though second function had a shorter timeout
});

_([enableSearch, updateSchema]).nfcall([&#x27;bucket&#x27;]).toArray(callback);
// does roughly the same as
async.applyEach([enableSearch, updateSchema], &#x27;bucket&#x27;, callback);

_([
  fs.appendFile,
  fs.appendFile
]).nfcall([&#x27;example.txt&#x27;, &#x27;hello&#x27;]).series().toArray(function() {
  // example.txt now contains &#x27;hellohello&#x27;
});</code></pre>
            
          </div>
        
          <div id=pick class="doc-item">
            <div class="doc-heading">
              <ul class="links">
                <li><a href="https://github.com/caolan/highland/blob//lib/index.js#L1755"><i class="fi-pencil"></i> Source</a></li>
                <li><a href="#pick"><i class="fi-link"></i> Link</a></li>
              </ul>
              <pre>Stream.pick(properties)</pre>
            </div>

            <p>Retrieves copies of all enumerable elements in the collection,
with only the whitelisted keys. If one of the whitelisted
keys does not exist, it will be ignored.</p>

            
            <div class="doc-params-heading">Parameters</div>
            <ul>
              
                <li>
                  <code>properties</code>
                   - <em>Array</em>
                   - property names to white filter
                </li>
              
            </ul>
            

            
            <pre><code class="javascript">var dogs = [
     {breed: &#x27;chihuahua&#x27;, name: &#x27;Princess&#x27;, age: 5},
     {breed: &#x27;labrador&#x27;, name: &#x27;Rocky&#x27;, age: 3},
     {breed: &#x27;german-shepherd&#x27;, name: &#x27;Waffles&#x27;, age: 9}
];

_(dogs).pick([&#x27;breed&#x27;, &#x27;age&#x27;]).toArray(function (xs) {
      // xs is now:
      [
          {breed: &#x27;chihuahua&#x27;, age: 5},
          {breed: &#x27;labrador&#x27;, age: 3},
          {breed: &#x27;german-shepherd&#x27;, age: 9}
      ]
});

_(dogs).pick([&#x27;owner&#x27;]).toArray(function (xs) {
     // xs is now:
     [
         {},
         {},
         {}
     ]
});</code></pre>
            
          </div>
        
          <div id=pickBy class="doc-item">
            <div class="doc-heading">
              <ul class="links">
                <li><a href="https://github.com/caolan/highland/blob//lib/index.js#L1696"><i class="fi-pencil"></i> Source</a></li>
                <li><a href="#pickBy"><i class="fi-link"></i> Link</a></li>
              </ul>
              <pre>Stream.pickBy(f)</pre>
            </div>

            <p>Retrieves copies of all the enumerable elements in the collection
that satisfy a given predicate.</p>

            
            <div class="doc-params-heading">Parameters</div>
            <ul>
              
                <li>
                  <code>f</code>
                   - <em>Function</em>
                   - the predicate function
                </li>
              
            </ul>
            

            
            <pre><code class="javascript"> var dogs = [
     {breed: &#x27;chihuahua&#x27;, name: &#x27;Princess&#x27;, age: 5},
     {breed: &#x27;labrador&#x27;, name: &#x27;Rocky&#x27;, age: 3},
     {breed: &#x27;german-shepherd&#x27;, name: &#x27;Waffles&#x27;, age: 9}
 ];

 _(dogs).pickBy(function (key, value) {
     return value &gt; 4;
 }).toArray(function (xs) {
   // xs is now:
   [
     { age: 5 },
     {},
     { age: 9 }
   ]
 });</code></pre>
            
          </div>
        
          <div id=pluck class="doc-item">
            <div class="doc-heading">
              <ul class="links">
                <li><a href="https://github.com/caolan/highland/blob//lib/index.js#L1652"><i class="fi-pencil"></i> Source</a></li>
                <li><a href="#pluck"><i class="fi-link"></i> Link</a></li>
              </ul>
              <pre>Stream.pluck(property)</pre>
            </div>

            <p>Retrieves values associated with a given property from all elements in
the collection.</p>

            
            <div class="doc-params-heading">Parameters</div>
            <ul>
              
                <li>
                  <code>prop</code>
                   - <em>String</em>
                   - the property to which values should be associated
                </li>
              
            </ul>
            

            
            <pre><code class="javascript">var docs = [
    {type: &#x27;blogpost&#x27;, title: &#x27;foo&#x27;},
    {type: &#x27;blogpost&#x27;, title: &#x27;bar&#x27;},
    {type: &#x27;comment&#x27;, title: &#x27;baz&#x27;}
];

_(docs).pluck(&#x27;title&#x27;).toArray(function (xs) {
   // xs is now [&#x27;foo&#x27;, &#x27;bar&#x27;, &#x27;baz&#x27;]
});</code></pre>
            
          </div>
        
          <div id=ratelimit class="doc-item">
            <div class="doc-heading">
              <ul class="links">
                <li><a href="https://github.com/caolan/highland/blob//lib/index.js#L1583"><i class="fi-pencil"></i> Source</a></li>
                <li><a href="#ratelimit"><i class="fi-link"></i> Link</a></li>
              </ul>
              <pre>Stream.ratelimit(num, ms)</pre>
            </div>

            <p>Limits number of values through the stream to a maximum of number of values
per window. Errors are not limited but allowed to pass through as soon as
they are read from the source.</p>

            
            <div class="doc-params-heading">Parameters</div>
            <ul>
              
                <li>
                  <code>num</code>
                   - <em>Number</em>
                   - the number of operations to perform per window
                </li>
              
                <li>
                  <code>ms</code>
                   - <em>Number</em>
                   - the window of time to limit the operations in (in ms)
                </li>
              
            </ul>
            

            
            <pre><code class="javascript">_([1, 2, 3, 4, 5]).ratelimit(2, 100);

// after 0ms =&gt; 1, 2
// after 100ms =&gt; 1, 2, 3, 4
// after 200ms =&gt; 1, 2, 3, 4, 5</code></pre>
            
          </div>
        
          <div id=reduce class="doc-item">
            <div class="doc-heading">
              <ul class="links">
                <li><a href="https://github.com/caolan/highland/blob//lib/index.js#L3066"><i class="fi-pencil"></i> Source</a></li>
                <li><a href="#reduce"><i class="fi-link"></i> Link</a></li>
              </ul>
              <pre>Stream.reduce(memo, iterator)</pre>
            </div>

            <p>Boils down a Stream to a single value. The memo is the initial state
of the reduction, and each successive step of it should be returned by
the iterator function. The iterator is passed two arguments:
the memo and the next value.</p>

<p>If the iterator throws an error, the reduction stops and the resulting
stream will emit that error instead of a value.</p>

            
            <div class="doc-params-heading">Parameters</div>
            <ul>
              
                <li>
                  <code>memo</code>
                  
                   - the initial state of the reduction
                </li>
              
                <li>
                  <code>iterator</code>
                   - <em>Function</em>
                   - the function which reduces the values
                </li>
              
            </ul>
            

            
            <pre><code class="javascript">var add = function (a, b) {
    return a + b;
};

_([1, 2, 3, 4]).reduce(0, add)  // =&gt; 10</code></pre>
            
          </div>
        
          <div id=reduce1 class="doc-item">
            <div class="doc-heading">
              <ul class="links">
                <li><a href="https://github.com/caolan/highland/blob//lib/index.js#L3118"><i class="fi-pencil"></i> Source</a></li>
                <li><a href="#reduce1"><i class="fi-link"></i> Link</a></li>
              </ul>
              <pre>Stream.reduce1(iterator)</pre>
            </div>

            <p>Same as <a href="#reduce">reduce</a>, but uses the first element as the initial
state instead of passing in a <code>memo</code> value.</p>

            
            <div class="doc-params-heading">Parameters</div>
            <ul>
              
                <li>
                  <code>iterator</code>
                   - <em>Function</em>
                   - the function which reduces the values
                </li>
              
            </ul>
            

            
            <pre><code class="javascript">_([1, 2, 3, 4]).reduce1(add)  // =&gt; 10</code></pre>
            
          </div>
        
          <div id=reject class="doc-item">
            <div class="doc-heading">
              <ul class="links">
                <li><a href="https://github.com/caolan/highland/blob//lib/index.js#L1881"><i class="fi-pencil"></i> Source</a></li>
                <li><a href="#reject"><i class="fi-link"></i> Link</a></li>
              </ul>
              <pre>Stream.reject(f)</pre>
            </div>

            <p>The inverse of <a href="#filter">filter</a>.</p>

            
            <div class="doc-params-heading">Parameters</div>
            <ul>
              
                <li>
                  <code>f</code>
                   - <em>Function</em>
                   - the truth test function
                </li>
              
            </ul>
            

            
            <pre><code class="javascript">var odds = _([1, 2, 3, 4]).reject(function (x) {
    return x % 2 === 0;
});</code></pre>
            
          </div>
        
          <div id=scan class="doc-item">
            <div class="doc-heading">
              <ul class="links">
                <li><a href="https://github.com/caolan/highland/blob//lib/index.js#L3184"><i class="fi-pencil"></i> Source</a></li>
                <li><a href="#scan"><i class="fi-link"></i> Link</a></li>
              </ul>
              <pre>Stream.scan(memo, iterator)</pre>
            </div>

            <p>Like <a href="#reduce">reduce</a>, but emits each intermediate value of the
reduction as it is calculated.</p>

<p>If the iterator throws an error, the scan will stop and the stream will
emit that error. Any intermediate values that were produced before the
error will still be emitted.</p>

            
            <div class="doc-params-heading">Parameters</div>
            <ul>
              
                <li>
                  <code>memo</code>
                  
                   - the initial state of the reduction
                </li>
              
                <li>
                  <code>iterator</code>
                   - <em>Function</em>
                   - the function which reduces the values
                </li>
              
            </ul>
            

            
            <pre><code class="javascript">_([1, 2, 3, 4]).scan(0, add)  // =&gt; 0, 1, 3, 6, 10</code></pre>
            
          </div>
        
          <div id=scan1 class="doc-item">
            <div class="doc-heading">
              <ul class="links">
                <li><a href="https://github.com/caolan/highland/blob//lib/index.js#L3231"><i class="fi-pencil"></i> Source</a></li>
                <li><a href="#scan1"><i class="fi-link"></i> Link</a></li>
              </ul>
              <pre>Stream.scan1(iterator)</pre>
            </div>

            <p>Same as <a href="#scan">scan</a>, but uses the first element as the initial
state instead of passing in a <code>memo</code> value.</p>

            
            <div class="doc-params-heading">Parameters</div>
            <ul>
              
                <li>
                  <code>iterator</code>
                   - <em>Function</em>
                   - the function which reduces the values
                </li>
              
            </ul>
            

            
            <pre><code class="javascript">_([1, 2, 3, 4]).scan1(add)  // =&gt; 1, 3, 6, 10</code></pre>
            
          </div>
        
          <div id=slice class="doc-item">
            <div class="doc-heading">
              <ul class="links">
                <li><a href="https://github.com/caolan/highland/blob//lib/index.js#L2449"><i class="fi-pencil"></i> Source</a></li>
                <li><a href="#slice"><i class="fi-link"></i> Link</a></li>
              </ul>
              <pre>Stream.slice(start, end)</pre>
            </div>

            <p>Creates a new Stream with the values from the source in the range of <code>start</code> to <code>end</code>.</p>

            
            <div class="doc-params-heading">Parameters</div>
            <ul>
              
                <li>
                  <code>start</code>
                   - <em>Number</em>
                   - integer representing index to start reading from source
                </li>
              
                <li>
                  <code>stop</code>
                   - <em>Number</em>
                   - integer representing index to stop reading from source
                </li>
              
            </ul>
            

            
            <pre><code class="javascript">_([1, 2, 3, 4]).slice(1, 3) // =&gt; 2, 3</code></pre>
            
          </div>
        
          <div id=sort class="doc-item">
            <div class="doc-heading">
              <ul class="links">
                <li><a href="https://github.com/caolan/highland/blob//lib/index.js#L2603"><i class="fi-pencil"></i> Source</a></li>
                <li><a href="#sort"><i class="fi-link"></i> Link</a></li>
              </ul>
              <pre>Stream.sort()</pre>
            </div>

            <p>Collects all values together then emits each value individually but in sorted order.
The method for sorting the elements is ascending lexical.</p>

            

            
            <pre><code class="javascript">var sorted = _([&#x27;b&#x27;, &#x27;z&#x27;, &#x27;g&#x27;, &#x27;r&#x27;]).sort().toArray(_.log);
// =&gt; [&#x27;b&#x27;, &#x27;g&#x27;, &#x27;r&#x27;, &#x27;z&#x27;]</code></pre>
            
          </div>
        
          <div id=sortBy class="doc-item">
            <div class="doc-heading">
              <ul class="links">
                <li><a href="https://github.com/caolan/highland/blob//lib/index.js#L2580"><i class="fi-pencil"></i> Source</a></li>
                <li><a href="#sortBy"><i class="fi-link"></i> Link</a></li>
              </ul>
              <pre>Stream.sortBy(f)</pre>
            </div>

            <p>Collects all values together then emits each value individually but in sorted order.
The method for sorting the elements is defined by the comparator function supplied
as a parameter.</p>

            
            <div class="doc-params-heading">Parameters</div>
            <ul>
              
                <li>
                  <code>f</code>
                  
                   - the sorting function
                </li>
              
            </ul>
            

            
            <pre><code class="javascript">var sorts = _([3, 1, 4, 2]).sortBy(function (a, b) {
    return b - a;
}).toArray(_.log);

//=&gt; [4, 3, 2, 1]</code></pre>
            
          </div>
        
          <div id=split class="doc-item">
            <div class="doc-heading">
              <ul class="links">
                <li><a href="https://github.com/caolan/highland/blob//lib/index.js#L2432"><i class="fi-pencil"></i> Source</a></li>
                <li><a href="#split"><i class="fi-link"></i> Link</a></li>
              </ul>
              <pre>Stream.split()</pre>
            </div>

            <p><a href="#splitBy">splitBy</a> over newlines.</p>

            

            
            <pre><code class="javascript">_([&#x27;a\n&#x27;, &#x27;b\nc\n&#x27;, &#x27;d&#x27;, &#x27;\ne&#x27;]).split()  // =&gt; a, b, c, d, e
_([&#x27;a\r\nb\nc&#x27;]]).split()  // =&gt; a, b, c</code></pre>
            
          </div>
        
          <div id=splitBy class="doc-item">
            <div class="doc-heading">
              <ul class="links">
                <li><a href="https://github.com/caolan/highland/blob//lib/index.js#L2382"><i class="fi-pencil"></i> Source</a></li>
                <li><a href="#splitBy"><i class="fi-link"></i> Link</a></li>
              </ul>
              <pre>Stream.splitBy(sep)</pre>
            </div>

            <p>Splits the source Stream by a separator and emits the pieces in between, much like splitting a string.</p>

<p>splitBy is effectively the inverse of <a href="#intersperse">intersperse</a>.</p>

            
            <div class="doc-params-heading">Parameters</div>
            <ul>
              
                <li>
                  <code>sep</code>
                  
                   - the separator to split on
                </li>
              
            </ul>
            

            
            <pre><code class="javascript">_([&#x27;mis&#x27;, &#x27;si&#x27;, &#x27;s&#x27;, &#x27;sippi&#x27;]).splitBy(&#x27;ss&#x27;)  // =&gt; mi, i, ippi
_([&#x27;ba&#x27;, &#x27;a&#x27;, &#x27;a&#x27;]).intersperse(&#x27;n&#x27;).splitBy(&#x27;n&#x27;)  // =&gt; ba, a, a
_([&#x27;foo&#x27;]).splitBy(&#x27;bar&#x27;)  // =&gt; foo</code></pre>
            
          </div>
        
          <div id=stopOnError class="doc-item">
            <div class="doc-heading">
              <ul class="links">
                <li><a href="https://github.com/caolan/highland/blob//lib/index.js#L1321"><i class="fi-pencil"></i> Source</a></li>
                <li><a href="#stopOnError"><i class="fi-link"></i> Link</a></li>
              </ul>
              <pre>Stream.stopOnError(f)</pre>
            </div>

            <p>Like the <a href="#errors">errors</a> method, but emits a Stream end marker after
an Error is encountered.</p>

            
            <div class="doc-params-heading">Parameters</div>
            <ul>
              
                <li>
                  <code>f</code>
                   - <em>Function</em>
                   - the function to handle an error
                </li>
              
            </ul>
            

            
            <pre><code class="javascript">brokenStream.stopOnError(function (err) {
    //console.error(&#x27;Something broke: &#x27; + err);
});</code></pre>
            
          </div>
        
          <div id=take class="doc-item">
            <div class="doc-heading">
              <ul class="links">
                <li><a href="https://github.com/caolan/highland/blob//lib/index.js#L2493"><i class="fi-pencil"></i> Source</a></li>
                <li><a href="#take"><i class="fi-link"></i> Link</a></li>
              </ul>
              <pre>Stream.take(n)</pre>
            </div>

            <p>Creates a new Stream with the first <code>n</code> values from the source.</p>

            
            <div class="doc-params-heading">Parameters</div>
            <ul>
              
                <li>
                  <code>n</code>
                   - <em>Number</em>
                   - integer representing number of values to read from source
                </li>
              
            </ul>
            

            
            <pre><code class="javascript">_([1, 2, 3, 4]).take(2) // =&gt; 1, 2</code></pre>
            
          </div>
        
          <div id=tap class="doc-item">
            <div class="doc-heading">
              <ul class="links">
                <li><a href="https://github.com/caolan/highland/blob//lib/index.js#L1568"><i class="fi-pencil"></i> Source</a></li>
                <li><a href="#tap"><i class="fi-link"></i> Link</a></li>
              </ul>
              <pre>Stream.tap(f)</pre>
            </div>

            <p>An alias for the <a href="#doto">doto</a> method.</p>

            
            <div class="doc-params-heading">Parameters</div>
            <ul>
              
                <li>
                  <code>f</code>
                  
                   - the function to apply
                </li>
              
            </ul>
            

            
            <pre><code class="javascript">_([1, 2, 3]).tap(console.log)</code></pre>
            
          </div>
        
          <div id=throttle class="doc-item">
            <div class="doc-heading">
              <ul class="links">
                <li><a href="https://github.com/caolan/highland/blob//lib/index.js#L3609"><i class="fi-pencil"></i> Source</a></li>
                <li><a href="#throttle"><i class="fi-link"></i> Link</a></li>
              </ul>
              <pre>Stream.throttle(ms)</pre>
            </div>

            <p>Ensures that only one data event is push downstream (or into the buffer)
every <code>ms</code> milliseconds, any other values are dropped.</p>

            
            <div class="doc-params-heading">Parameters</div>
            <ul>
              
                <li>
                  <code>ms</code>
                   - <em>Number</em>
                   - the minimum milliseconds between each value
                </li>
              
            </ul>
            

            
            <pre><code class="javascript">_(&#x27;mousemove&#x27;, document).throttle(1000);</code></pre>
            
          </div>
        
          <div id=transduce class="doc-item">
            <div class="doc-heading">
              <ul class="links">
                <li><a href="https://github.com/caolan/highland/blob//lib/index.js#L3282"><i class="fi-pencil"></i> Source</a></li>
                <li><a href="#transduce"><i class="fi-link"></i> Link</a></li>
              </ul>
              <pre>Stream.transduce(xf)</pre>
            </div>

            <p>Applies the transformation defined by the the given <em>transducer</em> to the
stream. A transducer is any function that follows the
<a href="https://github.com/cognitect-labs/transducers-js#transformer-protocol">Transducer Protocol</a>.
See
<a href="https://github.com/cognitect-labs/transducers-js#transducers-js">transduce-js</a>
for more details on what transducers actually are.</p>

<p>The <code>result</code> object that is passed in through the
<a href="https://github.com/cognitect-labs/transducers-js#transformer-protocol">Transformer Protocol</a>
will be the <code>push</code> function provided by the <a href="#consume">consume</a> transform.</p>

<p>Like <a href="#scan">scan</a>, if the transducer throws an exception, the transform
will stop and emit that error. Any intermediate values that were produced
before the error will still be emitted.</p>

            
            <div class="doc-params-heading">Parameters</div>
            <ul>
              
                <li>
                  <code>xf</code>
                   - <em>Function</em>
                   - The transducer.
                </li>
              
            </ul>
            

            
            <pre><code class="javascript">var xf = require(&#x27;transducer-js&#x27;).map(_.add(1));
_([1, 2, 3, 4]).transduce(xf);
// =&gt; [2, 3, 4, 5]</code></pre>
            
          </div>
        
          <div id=uniq class="doc-item">
            <div class="doc-heading">
              <ul class="links">
                <li><a href="https://github.com/caolan/highland/blob//lib/index.js#L2128"><i class="fi-pencil"></i> Source</a></li>
                <li><a href="#uniq"><i class="fi-link"></i> Link</a></li>
              </ul>
              <pre>Stream.uniq()</pre>
            </div>

            <p>Takes all unique values in a stream.
It uses uniqBy internally, using the strict equality === operator to define unicity</p>

            

            
            <pre><code class="javascript">var colors = [ &#x27;blue&#x27;, &#x27;red&#x27;, &#x27;red&#x27;, &#x27;yellow&#x27;, &#x27;blue&#x27;, &#x27;red&#x27; ]

_(colors).uniq()
// =&gt; &#x27;blue&#x27;
// =&gt; &#x27;red&#x27;
// =&gt; &#x27;yellow&#x27;</code></pre>
            
          </div>
        
          <div id=uniqBy class="doc-item">
            <div class="doc-heading">
              <ul class="links">
                <li><a href="https://github.com/caolan/highland/blob//lib/index.js#L2065"><i class="fi-pencil"></i> Source</a></li>
                <li><a href="#uniqBy"><i class="fi-link"></i> Link</a></li>
              </ul>
              <pre>Stream.uniqBy(compare)</pre>
            </div>

            <p>A way to keep only unique objects from a Stream
The definition of 'unicity' is given by a Function argument.</p>

<p>Note:
  - memory: in order to guarantee that each unique item is chosen only once, we need to keep an
    internal buffer of all unique values. This may outgrow the available memory if you are not
    cautious about the size of your stream and the number of unique objects you may receive on that
    stream
  - errors: the transformation will emit an error for each comparison that throws an error</p>

            
            <div class="doc-params-heading">Parameters</div>
            <ul>
              
                <li>
                  <code>compare</code>
                   - <em>Function</em>
                   - custom equality predicate
                </li>
              
            </ul>
            

            
            <pre><code class="javascript">var colors = [ &#x27;blue&#x27;, &#x27;red&#x27;, &#x27;red&#x27;, &#x27;yellow&#x27;, &#x27;blue&#x27;, &#x27;red&#x27; ]

_(colors).uniqBy(function(a,b) { return a[1] === b[1] })
// =&gt; &#x27;blue&#x27;
// =&gt; &#x27;red&#x27;</code></pre>
            
          </div>
        
          <div id=where class="doc-item">
            <div class="doc-heading">
              <ul class="links">
                <li><a href="https://github.com/caolan/highland/blob//lib/index.js#L2025"><i class="fi-pencil"></i> Source</a></li>
                <li><a href="#where"><i class="fi-link"></i> Link</a></li>
              </ul>
              <pre>Stream.where(props)</pre>
            </div>

            <p>A convenient form of <a href="#filter">filter</a>, which returns all objects from a Stream
which match a set of property values.</p>

            
            <div class="doc-params-heading">Parameters</div>
            <ul>
              
                <li>
                  <code>props</code>
                   - <em>Object</em>
                   - the properties to match against
                </li>
              
            </ul>
            

            
            <pre><code class="javascript">var docs = [
    {type: &#x27;blogpost&#x27;, title: &#x27;foo&#x27;},
    {type: &#x27;blogpost&#x27;, title: &#x27;bar&#x27;},
    {type: &#x27;comment&#x27;, title: &#x27;foo&#x27;}
];

_(docs).where({title: &#x27;foo&#x27;})
// =&gt; {type: &#x27;blogpost&#x27;, title: &#x27;foo&#x27;}
// =&gt; {type: &#x27;comment&#x27;, title: &#x27;foo&#x27;}

// example with partial application
var getBlogposts = _.where({type: &#x27;blogpost&#x27;});

getBlogposts(docs)
// =&gt; {type: &#x27;blogpost&#x27;, title: &#x27;foo&#x27;}
// =&gt; {type: &#x27;blogpost&#x27;, title: &#x27;bar&#x27;}</code></pre>
            
          </div>
        
        </div>

      
        <h2 id="Higher-order Streams">Higher-order Streams</h2>

        <div class="doc-items">
        
          <div id=concat class="doc-item">
            <div class="doc-heading">
              <ul class="links">
                <li><a href="https://github.com/caolan/highland/blob//lib/index.js#L3369"><i class="fi-pencil"></i> Source</a></li>
                <li><a href="#concat"><i class="fi-link"></i> Link</a></li>
              </ul>
              <pre>Stream.concat(ys)</pre>
            </div>

            <p>Concatenates a Stream to the end of this Stream.</p>

<p>Be aware that in the top-level export, the args may be in the reverse
order to what you'd expect <code>_([a], [b]) =&gt; b, a</code>, as this follows the
convention of other top-level exported functions which do <code>x</code> to <code>y</code>.</p>

            
            <div class="doc-params-heading">Parameters</div>
            <ul>
              
                <li>
                  <code>ys</code>
                   - <em>Stream | Array</em>
                   - the values to concatenate onto this Stream
                </li>
              
            </ul>
            

            
            <pre><code class="javascript">_([1, 2]).concat([3, 4])  // =&gt; 1, 2, 3, 4
_.concat([3, 4], [1, 2])  // =&gt; 1, 2, 3, 4</code></pre>
            
          </div>
        
          <div id=flatFilter class="doc-item">
            <div class="doc-heading">
              <ul class="links">
                <li><a href="https://github.com/caolan/highland/blob//lib/index.js#L1847"><i class="fi-pencil"></i> Source</a></li>
                <li><a href="#flatFilter"><i class="fi-link"></i> Link</a></li>
              </ul>
              <pre>Stream.flatFilter(f)</pre>
            </div>

            <p>Filters using a predicate which returns a Stream. If you need to check
against an asynchronous data source when filtering a Stream, this can
be convenient. The Stream returned from the filter function should have
a Boolean as it's first value (all other values on the Stream will be
disregarded).</p>

            
            <div class="doc-params-heading">Parameters</div>
            <ul>
              
                <li>
                  <code>f</code>
                   - <em>Function</em>
                   - the truth test function which returns a Stream
                </li>
              
            </ul>
            

            
            <pre><code class="javascript">var checkExists = _.wrapCallback(fs.exists);
filenames.flatFilter(checkExists)</code></pre>
            
          </div>
        
          <div id=flatMap class="doc-item">
            <div class="doc-heading">
              <ul class="links">
                <li><a href="https://github.com/caolan/highland/blob//lib/index.js#L1633"><i class="fi-pencil"></i> Source</a></li>
                <li><a href="#flatMap"><i class="fi-link"></i> Link</a></li>
              </ul>
              <pre>Stream.flatMap(f)</pre>
            </div>

            <p>Creates a new Stream of values by applying each item in a Stream to an
iterator function which must return a (possibly empty) Stream. Each item on
these result Streams are then emitted on a single output Stream.</p>

            
            <div class="doc-params-heading">Parameters</div>
            <ul>
              
                <li>
                  <code>f</code>
                   - <em>Function</em>
                   - the iterator function
                </li>
              
            </ul>
            

            
            <pre><code class="javascript">filenames.flatMap(readFile)</code></pre>
            
          </div>
        
          <div id=flatten class="doc-item">
            <div class="doc-heading">
              <ul class="links">
                <li><a href="https://github.com/caolan/highland/blob//lib/index.js#L2849"><i class="fi-pencil"></i> Source</a></li>
                <li><a href="#flatten"><i class="fi-link"></i> Link</a></li>
              </ul>
              <pre>Stream.flatten()</pre>
            </div>

            <p>Recursively reads values from a Stream which may contain nested Streams
or Arrays. As values or errors are encountered, they are emitted on a
single output Stream.</p>

            

            
            <pre><code class="javascript">_([1, [2, 3], [[4]]]).flatten();  // =&gt; 1, 2, 3, 4

var nums = _(
    _([1, 2, 3]),
    _([4, _([5, 6]) ])
);

nums.flatten();  // =&gt; 1, 2, 3, 4, 5, 6</code></pre>
            
          </div>
        
          <div id=fork class="doc-item">
            <div class="doc-heading">
              <ul class="links">
                <li><a href="https://github.com/caolan/highland/blob//lib/index.js#L1221"><i class="fi-pencil"></i> Source</a></li>
                <li><a href="#fork"><i class="fi-link"></i> Link</a></li>
              </ul>
              <pre>Stream.fork()</pre>
            </div>

            <p>Forks a stream, allowing you to add additional consumers with shared
back-pressure. A stream forked to multiple consumers will only pull values
from it's source as fast as the slowest consumer can handle them.</p>

            

            
            <pre><code class="javascript">var xs = _([1, 2, 3, 4]);
var ys = xs.fork();
var zs = xs.fork();

// no values will be pulled from xs until zs also resume
ys.resume();

// now both ys and zs will get values from xs
zs.resume();</code></pre>
            
          </div>
        
          <div id=merge class="doc-item">
            <div class="doc-heading">
              <ul class="links">
                <li><a href="https://github.com/caolan/highland/blob//lib/index.js#L3400"><i class="fi-pencil"></i> Source</a></li>
                <li><a href="#merge"><i class="fi-link"></i> Link</a></li>
              </ul>
              <pre>Stream.merge()</pre>
            </div>

            <p>Takes a Stream of Streams and merges their values and errors into a
single new Stream. The merged stream ends when all source streams have
ended.</p>

<p>Note that no guarantee is made with respect to the order in which
values for each stream end up in the merged stream. Values in the
merged stream will, however, respect the order they were emitted from
their respective streams.</p>

            

            
            <pre><code class="javascript">var txt = _([&#x27;foo.txt&#x27;, &#x27;bar.txt&#x27;]).map(readFile)
var md = _([&#x27;baz.md&#x27;]).map(readFile)

_([txt, md]).merge();
// =&gt; contents of foo.txt, bar.txt and baz.txt in the order they were read</code></pre>
            
          </div>
        
          <div id=observe class="doc-item">
            <div class="doc-heading">
              <ul class="links">
                <li><a href="https://github.com/caolan/highland/blob//lib/index.js#L1251"><i class="fi-pencil"></i> Source</a></li>
                <li><a href="#observe"><i class="fi-link"></i> Link</a></li>
              </ul>
              <pre>Stream.observe()</pre>
            </div>

            <p>Observes a stream, allowing you to handle values as they are emitted, without
adding back-pressure or causing data to be pulled from the source. This can
be useful when you are performing two related queries on a stream where one
would block the other. Just be aware that a slow observer could fill up it's
buffer and cause memory issues. Where possible, you should use <a href="#fork">fork</a>.</p>

            

            
            <pre><code class="javascript">var xs = _([1, 2, 3, 4]);
var ys = xs.fork();
var zs = xs.observe();

// now both zs and ys will receive data as fast as ys can handle it
ys.resume();</code></pre>
            
          </div>
        
          <div id=otherwise class="doc-item">
            <div class="doc-heading">
              <ul class="links">
                <li><a href="https://github.com/caolan/highland/blob//lib/index.js#L2998"><i class="fi-pencil"></i> Source</a></li>
                <li><a href="#otherwise"><i class="fi-link"></i> Link</a></li>
              </ul>
              <pre>Stream.otherwise(ys)</pre>
            </div>

            <p>Switches source to an alternate Stream if the current Stream is empty.</p>

            
            <div class="doc-params-heading">Parameters</div>
            <ul>
              
                <li>
                  <code>ys</code>
                   - <em>Stream | Function</em>
                   - alternate stream (or stream-returning function) to use if this stream is empty
                </li>
              
            </ul>
            

            
            <pre><code class="javascript">_([1,2,3]).otherwise([&#x27;foo&#x27;])  // =&gt; 1, 2, 3
_([]).otherwise([&#x27;foo&#x27;])       // =&gt; &#x27;foo&#x27;

_.otherwise(_([&#x27;foo&#x27;]), _([1,2,3]))    // =&gt; 1, 2, 3
_.otherwise(_([&#x27;foo&#x27;]), _([]))         // =&gt; &#x27;foo&#x27;</code></pre>
            
          </div>
        
          <div id=parallel class="doc-item">
            <div class="doc-heading">
              <ul class="links">
                <li><a href="https://github.com/caolan/highland/blob//lib/index.js#L2904"><i class="fi-pencil"></i> Source</a></li>
                <li><a href="#parallel"><i class="fi-link"></i> Link</a></li>
              </ul>
              <pre>Stream.parallel(n)</pre>
            </div>

            <p>Takes a Stream of Streams and reads from them in parallel, buffering
the results until they can be returned to the consumer in their original
order.</p>

            
            <div class="doc-params-heading">Parameters</div>
            <ul>
              
                <li>
                  <code>n</code>
                   - <em>Number</em>
                   - the maximum number of concurrent reads/buffers
                </li>
              
            </ul>
            

            
            <pre><code class="javascript">var readFile = _.wrapCallback(fs.readFile);
var filenames = _([&#x27;foo.txt&#x27;, &#x27;bar.txt&#x27;, &#x27;baz.txt&#x27;]);

// read from up to 10 files at once
filenames.map(readFile).parallel(10);</code></pre>
            
          </div>
        
          <div id=pipeline class="doc-item">
            <div class="doc-heading">
              <ul class="links">
                <li><a href="https://github.com/caolan/highland/blob//lib/index.js#L2677"><i class="fi-pencil"></i> Source</a></li>
                <li><a href="#pipeline"><i class="fi-link"></i> Link</a></li>
              </ul>
              <pre>_.pipeline(...)</pre>
            </div>

            <p>Creates a 'Through Stream', which passes data through a pipeline
of functions or other through Streams. This is particularly useful
when combined with partial application of Highland functions to expose a
Node-compatible Through Stream.</p>

<p>This is not a method on a Stream, and it only exposed at the top-level
as <code>_.pipeline</code>. It takes an arbitrary number of arguments.</p>

            

            
            <pre><code class="javascript">var through = _.pipeline(
    _.map(parseJSON),
    _.filter(isBlogpost),
    _.reduce(collectCategories)
    _.through(otherPipeline)
);

readStream.pipe(through).pipe(outStream);

// Alternatively, you can use pipeline to manipulate a stream in
// the chained method call style:

var through2 = _.pipeline(function (s) {
    return s.map(parseJSON).filter(isBlogpost); // etc.
});</code></pre>
            
          </div>
        
          <div id=sequence class="doc-item">
            <div class="doc-heading">
              <ul class="links">
                <li><a href="https://github.com/caolan/highland/blob//lib/index.js#L2747"><i class="fi-pencil"></i> Source</a></li>
                <li><a href="#sequence"><i class="fi-link"></i> Link</a></li>
              </ul>
              <pre>Stream.sequence()</pre>
            </div>

            <p>Reads values from a Stream of Streams, emitting them on a single output
Stream. This can be thought of as a flatten, just one level deep. Often
used for resolving asynchronous actions such as a HTTP request or reading
a file.</p>

            

            
            <pre><code class="javascript">var nums = _([
    _([1, 2, 3]),
    _([4, 5, 6])
]);

nums.sequence()  // =&gt; 1, 2, 3, 4, 5, 6

// using sequence to read from files in series
filenames.map(readFile).sequence()</code></pre>
            
          </div>
        
          <div id=series class="doc-item">
            <div class="doc-heading">
              <ul class="links">
                <li><a href="https://github.com/caolan/highland/blob//lib/index.js#L2835"><i class="fi-pencil"></i> Source</a></li>
                <li><a href="#series"><i class="fi-link"></i> Link</a></li>
              </ul>
              <pre>Stream.series()</pre>
            </div>

            <p>An alias for the <a href="#sequence">sequence</a> method.</p>

            

            
            <pre><code class="javascript">filenames.map(readFile).series()</code></pre>
            
          </div>
        
          <div id=through class="doc-item">
            <div class="doc-heading">
              <ul class="links">
                <li><a href="https://github.com/caolan/highland/blob//lib/index.js#L2622"><i class="fi-pencil"></i> Source</a></li>
                <li><a href="#through"><i class="fi-link"></i> Link</a></li>
              </ul>
              <pre>Stream.through(target)</pre>
            </div>

            <p>Passes the current Stream to a function, returning the result. Can also
be used to pipe the current Stream through another Stream. It will always
return a Highland Stream (instead of the piped to target directly as in
Node.js). Any errors emitted will be propagated as Highland errors.</p>

            

            
            <pre><code class="javascript">function oddDoubler(s) {
    return s.filter(function (x) {
        return x % 2; // odd numbers only
    })
    .map(function (x) {
        return x * 2;
    });
}

_([1, 2, 3, 4]).through(oddDoubler).toArray(function (xs) {
    // xs will be [2, 6]
});

// Can also be used with Node Through Streams
_(filenames).through(jsonParser).map(function (obj) {
    // ...
});

// All errors will be propagated as Highland errors
_([&#x27;zz{&quot;a&quot;: 1}&#x27;]).through(jsonParser).errors(function (err) {
  console.log(err); // =&gt; SyntaxError: Unexpected token z
});</code></pre>
            
          </div>
        
          <div id=zip class="doc-item">
            <div class="doc-heading">
              <ul class="links">
                <li><a href="https://github.com/caolan/highland/blob//lib/index.js#L2249"><i class="fi-pencil"></i> Source</a></li>
                <li><a href="#zip"><i class="fi-link"></i> Link</a></li>
              </ul>
              <pre>Stream.zip(ys)</pre>
            </div>

            <p>Takes two Streams and returns a Stream of corresponding pairs.</p>

            
            <div class="doc-params-heading">Parameters</div>
            <ul>
              
                <li>
                  <code>ys</code>
                   - <em>Array | Stream</em>
                   - the other stream to combine values with
                </li>
              
            </ul>
            

            
            <pre><code class="javascript">_([&#x27;a&#x27;, &#x27;b&#x27;, &#x27;c&#x27;]).zip([1, 2, 3])  // =&gt; [&#x27;a&#x27;, 1], [&#x27;b&#x27;, 2], [&#x27;c&#x27;, 3]</code></pre>
            
          </div>
        
          <div id=zipAll class="doc-item">
            <div class="doc-heading">
              <ul class="links">
                <li><a href="https://github.com/caolan/highland/blob//lib/index.js#L2226"><i class="fi-pencil"></i> Source</a></li>
                <li><a href="#zipAll"><i class="fi-link"></i> Link</a></li>
              </ul>
              <pre>Stream.zipAll(ys)</pre>
            </div>

            <p>Takes a stream and a <code>finite</code> stream of <code>N</code> streams
and returns a stream of the corresponding <code>(N+1)</code>-tuples.</p>

            
            <div class="doc-params-heading">Parameters</div>
            <ul>
              
                <li>
                  <code>ys</code>
                   - <em>Array | Stream</em>
                   - the array of streams to combine values with
                </li>
              
            </ul>
            

            
            <pre><code class="javascript">_([1,2,3]).zipAll([[4, 5, 6], [7, 8, 9], [10, 11, 12]])
// =&gt; [ [ 1, 4, 7, 10 ], [ 2, 5, 8, 11 ], [ 3, 6, 9, 12 ] ]

// shortest stream determines length of output stream
_([1, 2, 3, 4]).zipAll([[5, 6, 7, 8], [9, 10, 11, 12], [13, 14]])
// =&gt; [ [ 1, 5, 9, 13 ], [ 2, 6, 10, 14 ] ]</code></pre>
            
          </div>
        
          <div id=zipAll0 class="doc-item">
            <div class="doc-heading">
              <ul class="links">
                <li><a href="https://github.com/caolan/highland/blob//lib/index.js#L2152"><i class="fi-pencil"></i> Source</a></li>
                <li><a href="#zipAll0"><i class="fi-link"></i> Link</a></li>
              </ul>
              <pre>Stream.zipAll0()</pre>
            </div>

            <p>Takes a <code>finite</code> stream of streams and returns a stream where the first
element from each separate stream is combined into a single data event,
followed by the second elements of each stream and so on until the shortest
input stream is exhausted.</p>

            

            
            <pre><code class="javascript">_([
    _([1, 2, 3]),
    _([4, 5, 6]),
    _([7, 8, 9]),
    _([10, 11, 12])
]).zipAll0()
// =&gt; [ [ 1, 4, 7, 10 ], [ 2, 5, 8, 11 ], [ 3, 6, 9, 12 ] ]

// shortest stream determines length of output stream
_([
    _([1, 2, 3, 4]),
    _([5, 6, 7, 8]),
    _([9, 10, 11, 12]),
    _([13, 14])
]).zipAll0()
// =&gt; [ [ 1, 5, 9, 13 ], [ 2, 6, 10, 14 ] ]</code></pre>
            
          </div>
        
        </div>

      
        <h2 id="Consumption">Consumption</h2>

        <div class="doc-items">
        
          <div id=apply class="doc-item">
            <div class="doc-heading">
              <ul class="links">
                <li><a href="https://github.com/caolan/highland/blob//lib/index.js#L1390"><i class="fi-pencil"></i> Source</a></li>
                <li><a href="#apply"><i class="fi-link"></i> Link</a></li>
              </ul>
              <pre>Stream.apply(f)</pre>
            </div>

            <p>Applies all values from a Stream as arguments to a function. This function causes a <strong>thunk</strong>.
<code>f</code> will always be called when the <code>nil</code> token is encountered, even when the stream is empty.</p>

            
            <div class="doc-params-heading">Parameters</div>
            <ul>
              
                <li>
                  <code>f</code>
                   - <em>Function</em>
                   - the function to apply arguments to
                </li>
              
            </ul>
            

            
            <pre><code class="javascript">_([1, 2, 3]).apply(function (a, b, c) {
    // a === 1
    // b === 2
    // c === 3
});

_([1, 2, 3]).apply(function (a) {
    // arguments.length === 3
    // a === 1
});</code></pre>
            
          </div>
        
          <div id=done class="doc-item">
            <div class="doc-heading">
              <ul class="links">
                <li><a href="https://github.com/caolan/highland/blob//lib/index.js#L1449"><i class="fi-pencil"></i> Source</a></li>
                <li><a href="#done"><i class="fi-link"></i> Link</a></li>
              </ul>
              <pre>Stream.done(f)</pre>
            </div>

            <p>Calls a function once the Stream has ended. This function causes a <strong>thunk</strong>.
If the Stream has already ended, the function is called immediately.</p>

<p>If an error from the Stream reaches the <code>done</code> call, it will emit an
error event (which will cause it to throw if unhandled).</p>

            
            <div class="doc-params-heading">Parameters</div>
            <ul>
              
                <li>
                  <code>f</code>
                   - <em>Function</em>
                   - the callback
                </li>
              
            </ul>
            

            
            <pre><code class="javascript">var total = 0;
_([1, 2, 3, 4]).each(function (x) {
    total += x;
}).done(function () {
    // total will be 10
});</code></pre>
            
          </div>
        
          <div id=each class="doc-item">
            <div class="doc-heading">
              <ul class="links">
                <li><a href="https://github.com/caolan/highland/blob//lib/index.js#L1353"><i class="fi-pencil"></i> Source</a></li>
                <li><a href="#each"><i class="fi-link"></i> Link</a></li>
              </ul>
              <pre>Stream.each(f)</pre>
            </div>

            <p>Iterates over every value from the Stream, calling the iterator function
on each of them. This function causes a <strong>thunk</strong>.</p>

<p>If an error from the Stream reaches the <code>each</code> call, it will emit an
error event (which will cause it to throw if unhandled).</p>

            
            <div class="doc-params-heading">Parameters</div>
            <ul>
              
                <li>
                  <code>f</code>
                   - <em>Function</em>
                   - the iterator function
                </li>
              
            </ul>
            

            
            <pre><code class="javascript">_([1, 2, 3, 4]).each(function (x) {
    // will be called 4 times with x being 1, 2, 3 and 4
});</code></pre>
            
          </div>
        
          <div id=pipe class="doc-item">
            <div class="doc-heading">
              <ul class="links">
                <li><a href="https://github.com/caolan/highland/blob//lib/index.js#L838"><i class="fi-pencil"></i> Source</a></li>
                <li><a href="#pipe"><i class="fi-link"></i> Link</a></li>
              </ul>
              <pre>Stream.pipe(dest)</pre>
            </div>

            <p>Pipes a Highland Stream to a <a href="http://nodejs.org/api/stream.html#stream_class_stream_writable">Node Writable Stream</a>
(Highland Streams are also Node Writable Streams). This will pull all the
data from the source Highland Stream and write it to the destination,
automatically managing flow so that the destination is not overwhelmed
by a fast source.</p>

<p>This function returns the destination so you can chain together pipe calls.</p>

            
            <div class="doc-params-heading">Parameters</div>
            <ul>
              
                <li>
                  <code>dest</code>
                   - <em>Writable Stream</em>
                   - the destination to write all data to
                </li>
              
            </ul>
            

            
            <pre><code class="javascript">var source = _(generator);
var dest = fs.createWriteStream(&#x27;myfile.txt&#x27;)
source.pipe(dest);

// chained call
source.pipe(through).pipe(dest);</code></pre>
            
          </div>
        
          <div id=pull class="doc-item">
            <div class="doc-heading">
              <ul class="links">
                <li><a href="https://github.com/caolan/highland/blob//lib/index.js#L1146"><i class="fi-pencil"></i> Source</a></li>
                <li><a href="#pull"><i class="fi-link"></i> Link</a></li>
              </ul>
              <pre>Stream.pull(f)</pre>
            </div>

            <p>Consumes a single item from the Stream. Unlike consume, this function will
not provide a new stream for you to push values onto, and it will unsubscribe
as soon as it has a single error, value or nil from the source.</p>

<p>You probably won't need to use this directly, but it is used internally by
some functions in the Highland library.</p>

            
            <div class="doc-params-heading">Parameters</div>
            <ul>
              
                <li>
                  <code>f</code>
                   - <em>Function</em>
                   - the function to handle data
                </li>
              
            </ul>
            

            
            <pre><code class="javascript">xs.pull(function (err, x) {
    // do something
});</code></pre>
            
          </div>
        
          <div id=toArray class="doc-item">
            <div class="doc-heading">
              <ul class="links">
                <li><a href="https://github.com/caolan/highland/blob//lib/index.js#L1419"><i class="fi-pencil"></i> Source</a></li>
                <li><a href="#toArray"><i class="fi-link"></i> Link</a></li>
              </ul>
              <pre>Stream.toArray(f)</pre>
            </div>

            <p>Collects all values from a Stream into an Array and calls a function with
the result. This function causes a <strong>thunk</strong>.</p>

<p>If an error from the Stream reaches the <code>toArray</code> call, it will emit an
error event (which will cause it to throw if unhandled).</p>

            
            <div class="doc-params-heading">Parameters</div>
            <ul>
              
                <li>
                  <code>f</code>
                   - <em>Function</em>
                   - the callback to provide the completed Array to
                </li>
              
            </ul>
            

            
            <pre><code class="javascript">_([1, 2, 3, 4]).toArray(function (x) {
    // parameter x will be [1,2,3,4]
});</code></pre>
            
          </div>
        
        </div>

      
        <h2 id="Utils">Utils</h2>

        <div class="doc-items">
        
          <div id=isStream class="doc-item">
            <div class="doc-heading">
              <ul class="links">
                <li><a href="https://github.com/caolan/highland/blob//lib/index.js#L613"><i class="fi-pencil"></i> Source</a></li>
                <li><a href="#isStream"><i class="fi-link"></i> Link</a></li>
              </ul>
              <pre>_.isStream(x)</pre>
            </div>

            <p>Returns true if <code>x</code> is a Highland Stream.</p>

            
            <div class="doc-params-heading">Parameters</div>
            <ul>
              
                <li>
                  <code>x</code>
                  
                   - the object to test
                </li>
              
            </ul>
            

            
            <pre><code class="javascript">_.isStream(&#x27;foo&#x27;)  // =&gt; false
_.isStream(_([1,2,3]))  // =&gt; true</code></pre>
            
          </div>
        
          <div id=log class="doc-item">
            <div class="doc-heading">
              <ul class="links">
                <li><a href="https://github.com/caolan/highland/blob//lib/index.js#L3919"><i class="fi-pencil"></i> Source</a></li>
                <li><a href="#log"><i class="fi-link"></i> Link</a></li>
              </ul>
              <pre>_.log(args..)</pre>
            </div>

            <p>Logs values to the console, a simple wrapper around <code>console.log</code> that
it suitable for passing to other functions by reference without having to
call <code>bind</code>.</p>

            

            
            <pre><code class="javascript">_.log(&#x27;Hello, world!&#x27;);

_([1, 2, 3, 4]).each(_.log);</code></pre>
            
          </div>
        
          <div id=nil class="doc-item">
            <div class="doc-heading">
              <ul class="links">
                <li><a href="https://github.com/caolan/highland/blob//lib/index.js#L159"><i class="fi-pencil"></i> Source</a></li>
                <li><a href="#nil"><i class="fi-link"></i> Link</a></li>
              </ul>
              <pre>_.nil</pre>
            </div>

            <p>The end of stream marker. This is sent along the data channel of a Stream
to tell consumers that the Stream has ended. See the example map code for
an example of detecting the end of a Stream.</p>

<p>Note: <code>nil</code> is setup as a global where possible. This makes it convenient
to access, but more importantly lets Streams from different Highland
instances work together and detect end-of-stream properly. This is mostly
useful for NPM where you may have many different Highland versions installed.</p>

            

            
            <pre><code class="javascript">var map = function (iter, source) {
    return source.consume(function (err, val, push, next) {
        if (err) {
            push(err);
            next();
        }
        else if (val === _.nil) {
            push(null, val);
        }
        else {
            push(null, iter(val));
            next();
        }
    });
};</code></pre>
            
          </div>
        
          <div id=streamifyAll class="doc-item">
            <div class="doc-heading">
              <ul class="links">
                <li><a href="https://github.com/caolan/highland/blob//lib/index.js#L3990"><i class="fi-pencil"></i> Source</a></li>
                <li><a href="#streamifyAll"><i class="fi-link"></i> Link</a></li>
              </ul>
              <pre>_.streamifyAll(source)</pre>
            </div>

            <p>Takes an object or a constructor function and returns that object or
constructor with streamified versions of its function properties.
Passed constructors will also have their prototype functions
streamified.  This is useful for wrapping many node style async
functions at once, and for preserving those functions' context.</p>

            
            <div class="doc-params-heading">Parameters</div>
            <ul>
              
                <li>
                  <code>source</code>
                   - <em>Object | Function</em>
                   - the function or object with node-style function properties.
                </li>
              
            </ul>
            

            
            <pre><code class="javascript">var fs = _.streamifyAll(require(&#x27;fs&#x27;));

fs.readFileStream(&#x27;example.txt&#x27;).apply(function (data) {
    // data is now the contents of example.txt
});</code></pre>
            
          </div>
        
          <div id=wrapCallback class="doc-item">
            <div class="doc-heading">
              <ul class="links">
                <li><a href="https://github.com/caolan/highland/blob//lib/index.js#L3938"><i class="fi-pencil"></i> Source</a></li>
                <li><a href="#wrapCallback"><i class="fi-link"></i> Link</a></li>
              </ul>
              <pre>_.wrapCallback(f)</pre>
            </div>

            <p>Wraps a node-style async function which accepts a callback, transforming
it to a function which accepts the same arguments minus the callback and
returns a Highland Stream instead. Only the first argument to the
callback (or an error) will be pushed onto the Stream. The wrapped
function keeps its context, so you can safely use it as a method without
binding (see the second example below).</p>

            
            <div class="doc-params-heading">Parameters</div>
            <ul>
              
                <li>
                  <code>f</code>
                   - <em>Function</em>
                   - the node-style function to wrap
                </li>
              
            </ul>
            

            
            <pre><code class="javascript">var fs = require(&#x27;fs&#x27;);

var readFile = _.wrapCallback(fs.readFile);

readFile(&#x27;example.txt&#x27;).apply(function (data) {
    // data is now the contents of example.txt
});

function Reader(file) {
    this.file = file;
}

Reader.prototype.read = function(cb) {
    fs.readFile(this.file, cb);
};

Reader.prototype.readStream = _.wrapCallback(Reader.prototype.read);</code></pre>
            
          </div>
        
        </div>

      
        <h2 id="Objects">Objects</h2>

        <div class="doc-items">
        
          <div id=extend class="doc-item">
            <div class="doc-heading">
              <ul class="links">
                <li><a href="https://github.com/caolan/highland/blob//lib/index.js#L3835"><i class="fi-pencil"></i> Source</a></li>
                <li><a href="#extend"><i class="fi-link"></i> Link</a></li>
              </ul>
              <pre>_.extend(a, b)</pre>
            </div>

            <p>Extends one object with the properties of another. <strong>Note:</strong> The
arguments are in the reverse order of other libraries such as
underscore. This is so it follows the convention of other functions in
this library and so you can more meaningfully partially apply it.</p>

            
            <div class="doc-params-heading">Parameters</div>
            <ul>
              
                <li>
                  <code>a</code>
                   - <em>Object</em>
                   - the properties to extend b with
                </li>
              
                <li>
                  <code>b</code>
                   - <em>Object</em>
                   - the original object to extend
                </li>
              
            </ul>
            

            
            <pre><code class="javascript">_.extend({name: &#x27;bar&#x27;}, {name: &#x27;foo&#x27;, price: 20})
// =&gt; {name: &#x27;bar&#x27;, price: 20}

// example of partial application
var publish = _.extend({published: true});

publish({title: &#x27;test post&#x27;})
// =&gt; {title: &#x27;test post&#x27;, published: true}</code></pre>
            
          </div>
        
          <div id=get class="doc-item">
            <div class="doc-heading">
              <ul class="links">
                <li><a href="https://github.com/caolan/highland/blob//lib/index.js#L3867"><i class="fi-pencil"></i> Source</a></li>
                <li><a href="#get"><i class="fi-link"></i> Link</a></li>
              </ul>
              <pre>_.get(prop, obj)</pre>
            </div>

            <p>Returns a property from an object.</p>

            
            <div class="doc-params-heading">Parameters</div>
            <ul>
              
                <li>
                  <code>prop</code>
                   - <em>String</em>
                   - the property to return
                </li>
              
                <li>
                  <code>obj</code>
                   - <em>Object</em>
                   - the object to read properties from
                </li>
              
            </ul>
            

            
            <pre><code class="javascript">var obj = {foo: &#x27;bar&#x27;, baz: 123};
_.get(&#x27;foo&#x27;, obj) // =&gt; &#x27;bar&#x27;

// making use of partial application
var posts = [
  {title: &#x27;one&#x27;},
  {title: &#x27;two&#x27;},
  {title: &#x27;three&#x27;}
];

_(posts).map(_.get(&#x27;title&#x27;))  // =&gt; &#x27;one&#x27;, &#x27;two&#x27;, &#x27;three&#x27;</code></pre>
            
          </div>
        
          <div id=keys class="doc-item">
            <div class="doc-heading">
              <ul class="links">
                <li><a href="https://github.com/caolan/highland/blob//lib/index.js#L3788"><i class="fi-pencil"></i> Source</a></li>
                <li><a href="#keys"><i class="fi-link"></i> Link</a></li>
              </ul>
              <pre>_.keys(obj)</pre>
            </div>

            <p>Returns keys from an Object as a Stream.</p>

            
            <div class="doc-params-heading">Parameters</div>
            <ul>
              
                <li>
                  <code>obj</code>
                   - <em>Object</em>
                   - the object to return keys from
                </li>
              
            </ul>
            

            
            <pre><code class="javascript">_.keys({foo: 1, bar: 2, baz: 3})  // =&gt; &#x27;foo&#x27;, &#x27;bar&#x27;, &#x27;baz&#x27;</code></pre>
            
          </div>
        
          <div id=pairs class="doc-item">
            <div class="doc-heading">
              <ul class="links">
                <li><a href="https://github.com/caolan/highland/blob//lib/index.js#L3814"><i class="fi-pencil"></i> Source</a></li>
                <li><a href="#pairs"><i class="fi-link"></i> Link</a></li>
              </ul>
              <pre>_.pairs(obj)</pre>
            </div>

            <p>Returns key/value pairs for an Object as a Stream. Reads properties
lazily, so if you don't read from all keys on an object, not
all properties will be read from (may have an effect where getters
are used).</p>

            
            <div class="doc-params-heading">Parameters</div>
            <ul>
              
                <li>
                  <code>obj</code>
                   - <em>Object</em>
                   - the object to return key/value pairs from
                </li>
              
            </ul>
            

            
            <pre><code class="javascript">_.pairs({foo: 1, bar: 2})  // =&gt; [&#x27;foo&#x27;, 1], [&#x27;bar&#x27;, 2]</code></pre>
            
          </div>
        
          <div id=set class="doc-item">
            <div class="doc-heading">
              <ul class="links">
                <li><a href="https://github.com/caolan/highland/blob//lib/index.js#L3894"><i class="fi-pencil"></i> Source</a></li>
                <li><a href="#set"><i class="fi-link"></i> Link</a></li>
              </ul>
              <pre>_.set(prop, value, obj)</pre>
            </div>

            <p>Updates a property on an object, returning the updated object.</p>

            
            <div class="doc-params-heading">Parameters</div>
            <ul>
              
                <li>
                  <code>prop</code>
                   - <em>String</em>
                   - the property to return
                </li>
              
                <li>
                  <code>value</code>
                  
                   - the value to set the property to
                </li>
              
                <li>
                  <code>obj</code>
                   - <em>Object</em>
                   - the object to set properties on
                </li>
              
            </ul>
            

            
            <pre><code class="javascript">var obj = {foo: &#x27;bar&#x27;, baz: 123};
_.set(&#x27;foo&#x27;, &#x27;wheeee&#x27;, obj) // =&gt; {foo: &#x27;wheeee&#x27;, baz: 123}

// making use of partial application
var publish = _.set(&#x27;published&#x27;, true);

publish({title: &#x27;example&#x27;})  // =&gt; {title: &#x27;example&#x27;, published: true}</code></pre>
            
          </div>
        
          <div id=values class="doc-item">
            <div class="doc-heading">
              <ul class="links">
                <li><a href="https://github.com/caolan/highland/blob//lib/index.js#L3767"><i class="fi-pencil"></i> Source</a></li>
                <li><a href="#values"><i class="fi-link"></i> Link</a></li>
              </ul>
              <pre>_.values(obj)</pre>
            </div>

            <p>Returns values from an Object as a Stream. Reads properties
lazily, so if you don't read from all keys on an object, not
all properties will be read from (may have an effect where getters
are used).</p>

            
            <div class="doc-params-heading">Parameters</div>
            <ul>
              
                <li>
                  <code>obj</code>
                   - <em>Object</em>
                   - the object to return values from
                </li>
              
            </ul>
            

            
            <pre><code class="javascript">_.values({foo: 1, bar: 2, baz: 3})  // =&gt; 1, 2, 3</code></pre>
            
          </div>
        
        </div>

      
        <h2 id="Functions">Functions</h2>

        <div class="doc-items">
        
          <div id=compose class="doc-item">
            <div class="doc-heading">
              <ul class="links">
                <li><a href="https://github.com/caolan/highland/blob//lib/index.js#L313"><i class="fi-pencil"></i> Source</a></li>
                <li><a href="#compose"><i class="fi-link"></i> Link</a></li>
              </ul>
              <pre>_.compose(fn1, fn2, ...)</pre>
            </div>

            <p>Creates a composite function, which is the application of function1 to
the results of function2. You can pass an arbitrary number of arguments
and have them composed. This means you can't partially apply the compose
function itself.</p>

            

            
            <pre><code class="javascript">var add1 = add(1);
var mul3 = mul(3);

var add1mul3 = compose(mul3, add1);
add1mul3(2) == 9</code></pre>
            
          </div>
        
          <div id=curry class="doc-item">
            <div class="doc-heading">
              <ul class="links">
                <li><a href="https://github.com/caolan/highland/blob//lib/index.js#L205"><i class="fi-pencil"></i> Source</a></li>
                <li><a href="#curry"><i class="fi-link"></i> Link</a></li>
              </ul>
              <pre>_.curry(fn, [*arguments])</pre>
            </div>

            <p>Transforms a function with specific arity (all arguments must be
defined) in a way that it can be called as a chain of functions until
the arguments list is saturated.</p>

<p>This function is not itself curryable.</p>

            
            <div class="doc-params-heading">Parameters</div>
            <ul>
              
                <li>
                  <code>fn</code>
                   - <em>Function</em>
                   - the function to curry
                </li>
              
                <li>
                  <code>args..</code>
                  
                   - any number of arguments to pre-apply to the function
                </li>
              
            </ul>
            

            
            <pre><code class="javascript">fn = curry(function (a, b, c) {
    return a + b + c;
});

fn(1)(2)(3) == fn(1, 2, 3)
fn(1, 2)(3) == fn(1, 2, 3)
fn(1)(2, 3) == fn(1, 2, 3)</code></pre>
            
          </div>
        
          <div id=flip class="doc-item">
            <div class="doc-heading">
              <ul class="links">
                <li><a href="https://github.com/caolan/highland/blob//lib/index.js#L294"><i class="fi-pencil"></i> Source</a></li>
                <li><a href="#flip"><i class="fi-link"></i> Link</a></li>
              </ul>
              <pre>_.flip(fn, [x, y])</pre>
            </div>

            <p>Evaluates the function <code>fn</code> with the argument positions swapped. Only
works with functions that accept two arguments.</p>

            
            <div class="doc-params-heading">Parameters</div>
            <ul>
              
                <li>
                  <code>fn</code>
                   - <em>Function</em>
                   - function to flip argument application for
                </li>
              
                <li>
                  <code>x</code>
                  
                   - parameter to apply to the right hand side of f
                </li>
              
                <li>
                  <code>y</code>
                  
                   - parameter to apply to the left hand side of f
                </li>
              
            </ul>
            

            
            <pre><code class="javascript">div(2, 4) == 0.5
flip(div, 2, 4) == 2
flip(div)(2, 4) == 2</code></pre>
            
          </div>
        
          <div id=ncurry class="doc-item">
            <div class="doc-heading">
              <ul class="links">
                <li><a href="https://github.com/caolan/highland/blob//lib/index.js#L234"><i class="fi-pencil"></i> Source</a></li>
                <li><a href="#ncurry"><i class="fi-link"></i> Link</a></li>
              </ul>
              <pre>_.ncurry(n, fn, [args...])</pre>
            </div>

            <p>Same as <code>curry</code> but with a specific number of arguments. This can be
useful when functions do not explicitly define all its parameters.</p>

<p>This function is not itself curryable.</p>

            
            <div class="doc-params-heading">Parameters</div>
            <ul>
              
                <li>
                  <code>n</code>
                   - <em>Number</em>
                   - the number of arguments to wait for before apply fn
                </li>
              
                <li>
                  <code>fn</code>
                   - <em>Function</em>
                   - the function to curry
                </li>
              
                <li>
                  <code>args...</code>
                  
                   - any number of arguments to pre-apply to the function
                </li>
              
            </ul>
            

            
            <pre><code class="javascript">fn = ncurry(3, function () {
    return Array.prototype.join.call(arguments, &#x27;.&#x27;);
});

fn(1, 2, 3) == &#x27;1.2.3&#x27;;
fn(1, 2)(3) == &#x27;1.2.3&#x27;;
fn(1)(2)(3) == &#x27;1.2.3&#x27;;</code></pre>
            
          </div>
        
          <div id=partial class="doc-item">
            <div class="doc-heading">
              <ul class="links">
                <li><a href="https://github.com/caolan/highland/blob//lib/index.js#L267"><i class="fi-pencil"></i> Source</a></li>
                <li><a href="#partial"><i class="fi-link"></i> Link</a></li>
              </ul>
              <pre>_.partial(fn, args...)</pre>
            </div>

            <p>Partially applies the function (regardless of whether it has had curry
called on it). This will always postpone execution until at least the next
call of the partially applied function.</p>

            
            <div class="doc-params-heading">Parameters</div>
            <ul>
              
                <li>
                  <code>fn</code>
                   - <em>Function</em>
                   - function to partial apply
                </li>
              
                <li>
                  <code>args...</code>
                  
                   - the arguments to apply to the function
                </li>
              
            </ul>
            

            
            <pre><code class="javascript">var addAll = function () {
    var args = Array.prototype.slice.call(arguments);
    return foldl1(add, args);
};
var f = partial(addAll, 1, 2);
f(3, 4) == 10</code></pre>
            
          </div>
        
          <div id=seq class="doc-item">
            <div class="doc-heading">
              <ul class="links">
                <li><a href="https://github.com/caolan/highland/blob//lib/index.js#L336"><i class="fi-pencil"></i> Source</a></li>
                <li><a href="#seq"><i class="fi-link"></i> Link</a></li>
              </ul>
              <pre>_.seq(fn1, fn2, ...)</pre>
            </div>

            <p>The reversed version of compose. Where arguments are in the order of
application.</p>

            

            
            <pre><code class="javascript">var add1 = add(1);
var mul3 = mul(3);

var add1mul3 = seq(add1, mul3);
add1mul3(2) == 9</code></pre>
            
          </div>
        
        </div>

      
        <h2 id="Operators">Operators</h2>

        <div class="doc-items">
        
          <div id=add class="doc-item">
            <div class="doc-heading">
              <ul class="links">
                <li><a href="https://github.com/caolan/highland/blob//lib/index.js#L4079"><i class="fi-pencil"></i> Source</a></li>
                <li><a href="#add"><i class="fi-link"></i> Link</a></li>
              </ul>
              <pre>_.add(a, b)</pre>
            </div>

            <p>Add two values. Can be partially applied.</p>

            

            
            <pre><code class="javascript">_.add(1, 2) === 3
_.add(1)(5) === 6</code></pre>
            
          </div>
        
          <div id=not class="doc-item">
            <div class="doc-heading">
              <ul class="links">
                <li><a href="https://github.com/caolan/highland/blob//lib/index.js#L4095"><i class="fi-pencil"></i> Source</a></li>
                <li><a href="#not"><i class="fi-link"></i> Link</a></li>
              </ul>
              <pre>_.not(x)</pre>
            </div>

            <p>Perform logical negation on a value. If <code>x</code> is truthy then returns false,
otherwise returns true.</p>

            
            <div class="doc-params-heading">Parameters</div>
            <ul>
              
                <li>
                  <code>x</code>
                  
                   - the value to negate
                </li>
              
            </ul>
            

            
            <pre><code class="javascript">_.not(true)   // =&gt; false
_.not(false)  // =&gt; true</code></pre>
            
          </div>
        
        </div>

      

    </main>

    <script src="js/vendor/jquery.js"></script>
    <script src="js/vendor/highlight.pack.js"></script>
    <script src="js/foundation.min.js"></script>
    <script>
      $(document).foundation();
      hljs.initHighlightingOnLoad();
    </script>

    <script>
      (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
      })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

      ga('create', 'UA-48082396-1', 'highlandjs.org');
      ga('send', 'pageview');

    </script>

  </body>
</html>
